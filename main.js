/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}var e=["url"];function n(){n=function(){return e};var e={},r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new S(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=_(a,n);if(u){if(u===p)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=f(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p={};function h(){}function y(){}function v(){}var d={};l(d,a,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(j([])));b&&b!==r&&o.call(b,a)&&(d=b);var m=v.prototype=h.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(e,n){function r(i,a,u,c){var l=f(e[i],e,a);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==t(p)&&o.call(p,"__await")?n.resolve(p.__await).then((function(t){r("next",t,u,c)}),(function(t){r("throw",t,u,c)})):n.resolve(p).then((function(t){s.value=t,u(s)}),(function(t){return r("throw",t,u,c)}))}c(l.arg)}var i;this._invoke=function(t,e){function o(){return new n((function(n,o){r(t,e,n,o)}))}return i=i?i.then(o,o):o()}}function _(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=f(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,l(m,"constructor",v),l(v,"constructor",y),y.displayName=l(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},e.awrap=function(t){return{__await:t}},g(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),l(m,c,"Generator"),l(m,a,(function(){return this})),l(m,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function u(t){a(i,r,o,u,c,"next",t)}function c(t){a(i,r,o,u,c,"throw",t)}u(void 0)}))}}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){s(t,e),e.set(t,n)}function s(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function f(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function p(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,y(t,e,"get"))}function h(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,y(t,e,"set"),n),n}function y(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var v=new WeakMap,d=new WeakMap,w=new WeakSet,b=function(){function t(n){var r,o=n.url,i=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(n,e);!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,r=w),r.add(this),l(this,v,{writable:!0,value:void 0}),l(this,d,{writable:!0,value:void 0}),h(this,v,o),h(this,d,i)}var n,r;return n=t,(r=[{key:"getUser",value:function(){return f(this,w,m).call(this,"users/me")}},{key:"getCards",value:function(){return f(this,w,m).call(this,"cards")}},{key:"updateUser",value:function(t){return f(this,w,m).call(this,"users/me","PATCH",t)}},{key:"addCard",value:function(t){return f(this,w,m).call(this,"cards","POST",t)}},{key:"setLike",value:function(t){return f(this,w,m).call(this,"cards/".concat(t,"/likes"),"PUT")}},{key:"removeLike",value:function(t){return f(this,w,m).call(this,"cards/".concat(t,"/likes"),"PUT")}},{key:"deleteCard",value:function(t){return f(this,w,m).call(this,"cards/".concat(t),"DELETE")}},{key:"setAvatar",value:function(t){return f(this,w,m).call(this,"users/me/avatar","PATCH",t)}}])&&c(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function m(t){return g.apply(this,arguments)}function g(){return g=u(n().mark((function t(e){var r,i,a,u,c,l=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:"GET",i=l.length>2?l[2]:void 0,a=o(o({},p(this,d)),{},{method:r}),i&&(a.body="string"==typeof i?i:JSON.stringify(i)),t.next=6,fetch(p(this,v)+e,a);case 6:return u=t.sent,t.next=9,u.json();case 9:if(c=t.sent,!u.ok){t.next=12;break}return t.abrupt("return",c);case 12:throw new Error(c.message);case 13:case"end":return t.stop()}}),t,this)}))),g.apply(this,arguments)}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e){O(t,e),e.add(t)}function E(t,e,n){O(t,e),e.set(t,n)}function O(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function j(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,L(t,e,"get"))}function P(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,L(t,e,"set"),n),n}function L(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var T=new WeakMap,W=new WeakMap,C=new WeakMap,x=new WeakMap,M=new WeakMap,I=new WeakMap,q=new WeakMap,R=new WeakMap,A=new WeakMap,U=new WeakMap,D=new WeakMap,N=new WeakMap,z=new WeakMap,V=new WeakSet,B=new WeakSet,F=new WeakSet,G=new WeakSet,H=new WeakSet,Y=function(){function t(e,n,r,o,i,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),_(this,H),_(this,G),_(this,F),_(this,B),_(this,V),E(this,T,{writable:!0,value:void 0}),E(this,W,{writable:!0,value:void 0}),E(this,C,{writable:!0,value:void 0}),E(this,x,{writable:!0,value:void 0}),E(this,M,{writable:!0,value:void 0}),E(this,I,{writable:!0,value:void 0}),E(this,q,{writable:!0,value:void 0}),E(this,R,{writable:!0,value:void 0}),E(this,A,{writable:!0,value:void 0}),E(this,U,{writable:!0,value:void 0}),E(this,D,{writable:!0,value:void 0}),E(this,N,{writable:!0,value:void 0}),E(this,z,{writable:!0,value:void 0}),P(this,T,document.querySelector(n)),P(this,C,e.name),P(this,x,e.link),P(this,A,e.ownerId),this.userId=r,P(this,I,o),P(this,q,i),P(this,D,a),P(this,R,new Set(e.likes)),P(this,N,j(this,R).has(this.userId))}var e,n;return e=t,(n=[{key:"setLike",value:function(t){j(this,z).classList.add("places__like-button_active"),j(this,R).add(t),S(this,F,K).call(this),P(this,N,!0)}},{key:"removeLike",value:function(t){j(this,z).classList.remove("places__like-button_active"),j(this,R).delete(t),S(this,F,K).call(this),P(this,N,!1)}},{key:"generateCard",value:function(){return P(this,W,S(this,V,$).call(this)),P(this,M,j(this,W).querySelector(".places__image")),P(this,U,j(this,W).querySelector(".places__delete-button")),P(this,z,j(this,W).querySelector(".places__like-button")),j(this,W).querySelector(".places__title").textContent=j(this,C),j(this,M).src=j(this,x),j(this,M).alt=j(this,C),S(this,F,K).call(this),S(this,H,X).call(this),this.userId!==j(this,A)&&j(this,U).remove(),j(this,W)}},{key:"deleteCard",value:function(){j(this,W).remove(),P(this,W,null)}}])&&k(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function $(){return j(this,T).content.querySelector(".places__item").cloneNode(!0)}function J(){j(this,D).call(this,j(this,N))}function K(){j(this,W).querySelector(".places__likes-counter").textContent=j(this,R).size}function Q(){j(this,q).call(this)}function X(){var t=this;j(this,z).addEventListener("click",S(this,B,J).bind(this)),j(this,U).addEventListener("click",S(this,G,Q).bind(this)),j(this,M).addEventListener("click",(function(){j(t,I).call(t,j(t,C),j(t,x))}))}function Z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tt(t,e,n){et(t,e),e.set(t,n)}function et(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nt(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,ot(t,e,"get"))}function rt(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,ot(t,e,"set"),n),n}function ot(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var it=new WeakMap,at=new WeakMap,ut=new WeakSet,ct=function(){function t(e){var n,r=e.renderer,o=e.cardsContainer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),et(this,n=ut),n.add(this),tt(this,it,{writable:!0,value:void 0}),tt(this,at,{writable:!0,value:void 0}),rt(this,it,r),rt(this,at,o)}var e,n;return e=t,(n=[{key:"renderItems",value:function(t){var e=this;(function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n})(this,ut,lt).call(this),t.forEach((function(t){return nt(e,it).call(e,t)}))}},{key:"addItem",value:function(t){nt(this,at).prepend(t)}},{key:"addItems",value:function(t){var e=this;t.forEach((function(t){return e.addItem(t)}))}}])&&Z(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function lt(){nt(this,at).innerHTML=""}function st(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ft(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function pt(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,ht(t,e,"get"))}function ht(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var yt=new WeakMap,vt=new WeakMap,dt=function(){function t(e){var n,r,o,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ft(this,yt,{writable:!0,value:void 0}),ft(this,vt,{writable:!0,value:function(t){"Escape"===t.key&&i.closePopup(pt(i,yt).querySelector(".popup_opened"))}}),n=this,r=yt,o=document.querySelector(e),function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(n,ht(n,r,"set"),o)}var e,n;return e=t,(n=[{key:"openPopup",value:function(){pt(this,yt).classList.add("popup_opened"),document.addEventListener("keydown",pt(this,vt))}},{key:"closePopup",value:function(){pt(this,yt)&&(pt(this,yt).classList.remove("popup_opened"),document.removeEventListener("keydown",this.handleEscClosePopup))}},{key:"setEventListeners",value:function(){var t=this;pt(this,yt).addEventListener("mousedown",(function(e){(e.target.classList.contains("popup__modal-window")||e.target.classList.contains("popup_opened"))&&t.closePopup(pt(t,yt)),e.target.classList.contains("popup__close-button")&&t.closePopup(pt(t,yt))}))}}])&&st(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function wt(t){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wt(t)}function bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mt(){return mt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=gt(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},mt.apply(this,arguments)}function gt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ot(t)););return t}function kt(t,e){return kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kt(t,e)}function _t(t,e){if(e&&("object"===wt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Et(t)}function Et(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ot(t){return Ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ot(t)}function St(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,jt(t,e,"get"))}function jt(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Pt=new WeakMap,Lt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kt(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ot(r);if(o){var n=Ot(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _t(this,t)});function a(t,e){var n,r,o,u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),r=Et(n=i.call(this,t)),u={writable:!0,value:void 0},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r,o=Pt),o.set(r,u),function(t,e,n){(function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}})(t,jt(t,e,"set"),n)}(Et(n),Pt,document.querySelector(e)),n}return e=a,(n=[{key:"openPopup",value:function(t,e){mt(Ot(a.prototype),"openPopup",this).call(this),St(this,Pt).src=e,St(this,Pt).alt=t,document.querySelector(".popup__image-caption").textContent=t}}])&&bt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(dt);function Tt(t){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tt(t)}function Wt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xt(){return xt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Mt(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},xt.apply(this,arguments)}function Mt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=At(t)););return t}function It(t,e){return It=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},It(t,e)}function qt(t,e){if(e&&("object"===Tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Rt(t)}function Rt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function At(t){return At=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},At(t)}function Ut(t,e,n){Dt(t,e),e.set(t,n)}function Dt(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Nt(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Vt(t,e,"get"))}function zt(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Vt(t,e,"set"),n),n}function Vt(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Bt=new WeakMap,Ft=new WeakMap,Gt=new WeakMap,Ht=new WeakMap,Yt=new WeakMap,$t=new WeakMap,Jt=new WeakMap,Kt=new WeakMap,Qt=new WeakSet,Xt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&It(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=At(r);if(o){var n=At(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return qt(this,t)});function a(t,e){var n,r,o,u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),Dt(r=Rt(n=i.call(this,t)),o=Qt),o.add(r),Ut(Rt(n),Bt,{writable:!0,value:void 0}),Ut(Rt(n),Ft,{writable:!0,value:void 0}),Ut(Rt(n),Gt,{writable:!0,value:void 0}),Ut(Rt(n),Ht,{writable:!0,value:void 0}),Ut(Rt(n),Yt,{writable:!0,value:void 0}),Ut(Rt(n),$t,{writable:!0,value:void 0}),Ut(Rt(n),Jt,{writable:!0,value:void 0}),Ut(Rt(n),Kt,{writable:!0,value:void 0}),zt(Rt(n),Gt,document.querySelector(t)),zt(Rt(n),Ht,Nt(Rt(n),Gt).querySelector(".popup__form")),zt(Rt(n),Ft,function(t){if(Array.isArray(t))return Wt(t)}(u=Nt(Rt(n),Ht).querySelectorAll(".popup__input"))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(u)||function(t,e){if(t){if("string"==typeof t)return Wt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wt(t,e):void 0}}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),zt(Rt(n),Jt,Nt(Rt(n),Gt).querySelector(".popup__button")),zt(Rt(n),Bt,e),zt(Rt(n),Yt,!1),n}return e=a,(n=[{key:"setInputValues",value:function(t){Nt(this,Ft).forEach((function(e){t[e.name]&&(e.value=t[e.name])}))}},{key:"getForm",value:function(){return Nt(this,Ht)}},{key:"setEventListeners",value:function(){var t=this;xt(At(a.prototype),"setEventListeners",this).call(this),Nt(this,Ht).addEventListener("submit",(function(e){e.preventDefault(),zt(t,Kt,function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}(t,Qt,Zt).call(t)),Nt(t,Yt)||(zt(t,$t,Nt(t,Jt).textContent),Nt(t,Jt).textContent="Сохранение...",zt(t,Yt,!0)),Nt(t,Bt).call(t,Nt(t,Kt)).then((function(){t.closePopup()})).catch((function(t){return console.log(t.message)})).finally((function(){Nt(t,Yt)&&(Nt(t,Jt).textContent=Nt(t,$t),zt(t,Yt,!1))}))}))}},{key:"closePopup",value:function(){Nt(this,Ht).reset(),xt(At(a.prototype),"closePopup",this).call(this)}}])&&Ct(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(dt);function Zt(){return Nt(this,Ft).reduce((function(t,e){return t[e.name]=e.value,t}),{})}function te(t){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(t)}function ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ne(){return ne="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=re(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ne.apply(this,arguments)}function re(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ue(t)););return t}function oe(t,e){return oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oe(t,e)}function ie(t,e){if(e&&("object"===te(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ae(t)}function ae(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ue(t){return ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ue(t)}function ce(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function le(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,fe(t,e,"get"))}function se(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,fe(t,e,"set"),n),n}function fe(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var pe=new WeakMap,he=new WeakMap,ye=new WeakMap,ve=new WeakMap,de=new WeakMap,we=new WeakMap,be=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oe(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ue(r);if(o){var n=ue(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ie(this,t)});function a(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),ce(ae(n=i.call(this,t)),pe,{writable:!0,value:void 0}),ce(ae(n),he,{writable:!0,value:void 0}),ce(ae(n),ye,{writable:!0,value:void 0}),ce(ae(n),ve,{writable:!0,value:void 0}),ce(ae(n),de,{writable:!0,value:void 0}),ce(ae(n),we,{writable:!0,value:void 0}),se(ae(n),pe,document.querySelector(t)),se(ae(n),ye,le(ae(n),pe).querySelector(".popup__button_type_confirm")),se(ae(n),he,e),se(ae(n),we,!1),n}return e=a,(n=[{key:"openPopup",value:function(t){ne(ue(a.prototype),"openPopup",this).call(this),se(this,ve,t)}},{key:"closePopup",value:function(){ne(ue(a.prototype),"closePopup",this).call(this)}},{key:"setEventListeners",value:function(){var t=this;ne(ue(a.prototype),"setEventListeners",this).call(this),le(this,ye).addEventListener("click",(function(){le(t,we)||(se(t,de,le(t,ye).textContent),le(t,ye).textContent="Сохранение...",se(t,we,!0)),le(t,he).call(t,le(t,ve)).then((function(){t.closePopup()})).catch((function(t){return console.log(t.message)})).finally((function(){le(t,we)&&(le(t,ye).textContent=le(t,de),se(t,we,!1))}))}))}}])&&ee(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(dt);function me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ge(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function ke(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Ee(t,e,"get"))}function _e(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Ee(t,e,"set"),n),n}function Ee(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Oe=new WeakMap,Se=new WeakMap,je=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ge(this,Oe,{writable:!0,value:void 0}),ge(this,Se,{writable:!0,value:void 0}),_e(this,Oe,e),this.nameSelector=document.querySelector(ke(this,Oe).userName),this.infoSelector=document.querySelector(ke(this,Oe).userInfo),this.avatarSelector=document.querySelector(ke(this,Oe).avatar),this.avatarSelector.textContent=this.avatarSelector.src}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this.nameSelector.textContent,about:this.infoSelector.textContent}}},{key:"setUserId",value:function(t){_e(this,Se,t)}},{key:"getUserId",value:function(){return ke(this,Se)}},{key:"setUserInfo",value:function(t,e){this.nameSelector.textContent=t,this.infoSelector.textContent=e}},{key:"setAvatar",value:function(t){this.avatarSelector.src=t}}])&&me(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Le(t,e){We(t,e),e.add(t)}function Te(t,e,n){We(t,e),e.set(t,n)}function We(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ce(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function xe(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Ie(t,e,"get"))}function Me(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Ie(t,e,"set"),n),n}function Ie(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var qe=new WeakMap,Re=new WeakMap,Ae=new WeakMap,Ue=new WeakMap,De=new WeakMap,Ne=new WeakMap,ze=new WeakMap,Ve=new WeakSet,Be=new WeakSet,Fe=new WeakSet,Ge=new WeakSet,He=new WeakSet,Ye=new WeakSet,$e=new WeakSet,Je=new WeakSet,Ke=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Le(this,Je),Le(this,$e),Le(this,Ye),Le(this,He),Le(this,Ge),Le(this,Fe),Le(this,Be),Le(this,Ve),Te(this,qe,{writable:!0,value:void 0}),Te(this,Re,{writable:!0,value:void 0}),Te(this,Ae,{writable:!0,value:void 0}),Te(this,Ue,{writable:!0,value:void 0}),Te(this,De,{writable:!0,value:void 0}),Te(this,Ne,{writable:!0,value:void 0}),Te(this,ze,{writable:!0,value:void 0}),Me(this,qe,e.inactiveButtonClass),Me(this,Re,e.inputErrorClass),Me(this,Ae,e.errorClass),Me(this,ze,n),Me(this,De,Array.from(xe(this,ze).querySelectorAll(e.inputSelector))),Me(this,Ue,xe(this,ze).querySelector(e.submitButtonSelector))}var e,n;return e=t,(n=[{key:"resetValidation",value:function(){var t=this;Ce(this,Ve,Qe).call(this),xe(this,De).forEach((function(e){Ce(t,Ye,nn).call(t,e)}))}},{key:"enableValidation",value:function(){Ce(this,Je,on).call(this)}}])&&Pe(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Qe(){xe(this,Ue).classList.add(xe(this,qe)),xe(this,Ue).setAttribute("disabled",!0)}function Xe(){xe(this,Ue).classList.remove(xe(this,qe)),xe(this,Ue).removeAttribute("disabled",!1)}function Ze(){return xe(this,De).some((function(t){return!t.validity.valid}))}function tn(){Ce(this,Fe,Ze).call(this)?Ce(this,Ve,Qe).call(this):Ce(this,Be,Xe).call(this)}function en(t,e){Me(this,Ne,xe(this,ze).querySelector("#".concat(t.id,"-error"))),t.classList.add(xe(this,Re)),xe(this,Ne).textContent=e,xe(this,Ne).classList.add(xe(this,Ae))}function nn(t){Me(this,Ne,xe(this,ze).querySelector("#".concat(t.id,"-error"))),t.classList.remove(xe(this,Re)),xe(this,Ne).textContent="",xe(this,Ne).classList.remove(xe(this,Ae))}function rn(t){t.validity.valid?Ce(this,Ye,nn).call(this,t):Ce(this,He,en).call(this,t,t.validationMessage)}function on(){var t=this;Ce(this,Ge,tn).call(this,xe(this,De)),xe(this,De).forEach((function(e){e.addEventListener("input",(function(){Ce(t,$e,rn).call(t,e),Ce(t,Ge,tn).call(t,xe(t,De))}))}))}var an={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},un=document.querySelector(".places__items");function cn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ln=function(t){var e=new Y({name:t.name,link:t.link,likes:t.likes,ownerId:t.owner._id,id:t._id},"#cardtemplate",yn.getUserId(),hn.openPopup.bind(hn),(function(){bn.openPopup({id:t._id,handleDelete:e.deleteCard.bind(e)})}),(function(n){n?sn.removeLike(t._id).then((function(t){return e.removeLike(t.owner._id)})).catch((function(t){return console.log(t.message)})):sn.setLike(t._id).then((function(t){return e.setLike(t.owner._id)})).catch((function(t){return console.log(t.message)}))}));return e.generateCard()},sn=new b({url:"https://nomoreparties.co/v1/cohort-52/",headers:{authorization:"79dfd97e-4c73-4c37-a7d5-b5e09710f5c9","Content-Type":"application/json"}}),fn=new ct({renderer:function(t){fn.addItem(ln(t))},cardsContainer:un});Promise.all([sn.getUser(),sn.getCards()]).then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,n)||function(t,e){if(t){if("string"==typeof t)return cn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cn(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];yn.setUserInfo(o.name,o.about),yn.setUserId(o._id),fn.renderItems(i)})).catch((function(t){return console.log(t.message)}));var pn=function(t){return new Ke(an,t)},hn=new Lt(".popup_type_image",".popup__image"),yn=new je({userName:".profile__title",userInfo:".profile__subtitle",avatar:".profile__avatar"}),vn=new Xt(".popup_type_add",(function(t){return sn.addCard(t).then((function(t){return fn.addItem(ln(t))}))})),dn=new Xt(".popup_type_edit",(function(t){return sn.updateUser(t).then((function(t){return yn.setUserInfo(t.name,t.about)}))})),wn=new Xt(".popup_type_set-avatar",(function(t){return sn.setAvatar({avatar:t.avatar}).then(yn.setAvatar(t.avatar))})),bn=new be(".popup_type_confirm",(function(t){var e=t.id,n=t.handleDelete;return sn.deleteCard(e).then((function(){return n()}))})),mn=pn(vn.getForm()),gn=pn(dn.getForm()),kn=pn(wn.getForm());mn.enableValidation(),gn.enableValidation(),kn.enableValidation(),hn.setEventListeners(),vn.setEventListeners(),dn.setEventListeners(),wn.setEventListeners(),bn.setEventListeners(),document.querySelector(".profile__add-button").addEventListener("click",(function(){vn.openPopup(),mn.resetValidation()})),document.querySelector(".profile__edit-button").addEventListener("click",(function(){dn.openPopup(),dn.setInputValues(yn.getUserInfo()),gn.resetValidation()})),document.querySelector(".profile__avatar-container").addEventListener("click",(function(){wn.openPopup(),wn.setInputValues(yn.getUserInfo()),kn.resetValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQWMsMEJBQTJCLFNBQUE5RCxHQUFXLE9BQzlFcUgsR0FBSXVCLFVBQVUsQ0FBRXZELE9BQVFyRixFQUFZcUYsU0FDakNqQixLQUFLZSxHQUFTeUQsVUFBVTVJLEVBQVlxRixRQUZ1QyxJQUsxRTRCLEdBQWUsSUFBSXBDLEdBQWlCLHVCQUN4QyxZQUEwQixJQUF2QjVFLEVBQXVCLEVBQXZCQSxHQUFJaUgsRUFBbUIsRUFBbkJBLGFBQ0wsT0FBT0csR0FBSUYsV0FBV2xILEdBQ25CbUUsTUFBSyxrQkFBTThDLEdBQU4sR0FDVCxJQUVHMkIsR0FBbUJSLEdBQWdCRSxHQUFTTyxXQUM1Q0MsR0FBb0JWLEdBQWdCSSxHQUFVSyxXQUM5Q0UsR0FBc0JYLEdBQWdCTSxHQUFnQkcsV0FFNURELEdBQWlCSSxtQkFDakJGLEdBQWtCRSxtQkFDbEJELEdBQW9CQyxtQkFFcEJsQyxHQUFXbUMsb0JBQ1hYLEdBQVNXLG9CQUNUVCxHQUFVUyxvQkFDVlAsR0FBZ0JPLG9CQUNoQmpDLEdBQWFpQyxvQkFFYjVILFNBQVNDLGNBQWMsd0JBQXdCaUIsaUJBQWlCLFNBckh4QyxXQUN0QitGLEdBQVN2QixZQUNUNkIsR0FBaUJNLGlCQUNsQixJQW1IRDdILFNBQVNDLGNBQWMseUJBQXlCaUIsaUJBQWlCLFNBakh4QyxXQUN2QmlHLEdBQVV6QixZQUNWeUIsR0FBVVcsZUFBZWpFLEdBQVNrRSxlQUNsQ04sR0FBa0JJLGlCQUNuQixJQThHRDdILFNBQVNDLGNBQWMsOEJBQThCaUIsaUJBQWlCLFNBNUdqRCxXQUNuQm1HLEdBQWdCM0IsWUFDaEIyQixHQUFnQlMsZUFBZWpFLEdBQVNrRSxlQUN4Q0wsR0FBb0JHLGlCQUNyQiIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG5cbiAgI3VybDtcbiAgI2NvbmZpZ0FwaTtcblxuICBjb25zdHJ1Y3Rvcih7IHVybCwgLi4uY29uZmlnQXBpIH0pIHtcblxuICAgIHRoaXMuI3VybCA9IHVybDtcbiAgICB0aGlzLiNjb25maWdBcGkgPSBjb25maWdBcGk7XG4gIH1cblxuICBhc3luYyAjcmVuZGVyUmVxdWVzdChwYXRoLCBtZXRob2QgPSBcIkdFVFwiLCBib2R5KSB7XG5cbiAgICBjb25zdCBvcHRpb25zID0geyAuLi50aGlzLiNjb25maWdBcGksIG1ldGhvZCB9O1xuXG4gICAgaWYgKGJvZHkpIHtcblxuICAgICAgKHR5cGVvZiBib2R5ID09PSBcInN0cmluZ1wiKSA/IG9wdGlvbnMuYm9keSA9IGJvZHlcbiAgICAgICAgOiBvcHRpb25zLmJvZHkgPSBKU09OLnN0cmluZ2lmeShib2R5KTtcbiAgICB9XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLiN1cmwgKyBwYXRoLCBvcHRpb25zKTtcbiAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICByZXR1cm4ganNvbjtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoanNvbi5tZXNzYWdlKTtcbiAgfVxuXG4gIGdldFVzZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuI3JlbmRlclJlcXVlc3QoXCJ1c2Vycy9tZVwiKTtcbiAgfVxuXG4gIGdldENhcmRzKCkge1xuICAgIHJldHVybiB0aGlzLiNyZW5kZXJSZXF1ZXN0KFwiY2FyZHNcIik7XG4gIH1cblxuICB1cGRhdGVVc2VyKGlucHV0VmFsdWVzKSB7XG5cbiAgICByZXR1cm4gdGhpcy4jcmVuZGVyUmVxdWVzdCgndXNlcnMvbWUnLCAnUEFUQ0gnLCBpbnB1dFZhbHVlcyk7XG4gIH1cblxuICBhZGRDYXJkKGlucHV0VmFsdWVzKSB7XG4gICAgcmV0dXJuIHRoaXMuI3JlbmRlclJlcXVlc3QoXCJjYXJkc1wiLCAnUE9TVCcsIGlucHV0VmFsdWVzKTtcbiAgfVxuXG4gIHNldExpa2UoaWQpIHtcbiAgICByZXR1cm4gdGhpcy4jcmVuZGVyUmVxdWVzdChgY2FyZHMvJHtpZH0vbGlrZXNgLCAnUFVUJyk7XG4gIH1cblxuICByZW1vdmVMaWtlKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuI3JlbmRlclJlcXVlc3QoYGNhcmRzLyR7aWR9L2xpa2VzYCwgJ1BVVCcpO1xuICB9XG5cbiAgZGVsZXRlQ2FyZChpZCkge1xuICAgIHJldHVybiB0aGlzLiNyZW5kZXJSZXF1ZXN0KGBjYXJkcy8ke2lkfWAsIFwiREVMRVRFXCIpO1xuICB9XG5cbiAgc2V0QXZhdGFyKGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy4jcmVuZGVyUmVxdWVzdCgndXNlcnMvbWUvYXZhdGFyJywgJ1BBVENIJywgZGF0YSk7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBDYXJkIHtcblxuICAjY2FyZHNUZW1wbGF0ZTtcbiAgI2NhcmRJdGVtO1xuICAjbmFtZTtcbiAgI2xpbms7XG4gICNjYXJkSW1hZ2U7XG4gICNoYW5kbGVDYXJkQ2xpY2s7XG4gICNoYW5kbGVEZWxldGVDbGljaztcbiAgI2xpa2VzU2V0O1xuICAjb3duZXJJZDtcbiAgI2RlbGV0ZUJ1dHRvbjtcbiAgI2hhbmRsZUxpa2VDbGljaztcbiAgI2lzTGlrZWQ7XG4gICNsaWtlQnV0dG9uO1xuXG4gIGNvbnN0cnVjdG9yKGNhcmRzRGF0YSwgY2FyZHNJZFNlbGVjdG9yLCB1c2VySWQsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlRGVsZXRlQ2xpY2ssIGhhbmRsZUxpa2VDbGljaykge1xuXG4gICAgdGhpcy4jY2FyZHNUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2FyZHNJZFNlbGVjdG9yKTtcbiAgICB0aGlzLiNuYW1lID0gY2FyZHNEYXRhLm5hbWU7XG4gICAgdGhpcy4jbGluayA9IGNhcmRzRGF0YS5saW5rO1xuXG4gICAgdGhpcy4jb3duZXJJZCA9IGNhcmRzRGF0YS5vd25lcklkO1xuICAgIHRoaXMudXNlcklkID0gdXNlcklkO1xuXG4gICAgdGhpcy4jaGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuI2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XG4gICAgdGhpcy4jaGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xuXG4gICAgdGhpcy4jbGlrZXNTZXQgPSBuZXcgU2V0KGNhcmRzRGF0YS5saWtlcyk7XG4gICAgdGhpcy4jaXNMaWtlZCA9IHRoaXMuI2xpa2VzU2V0Lmhhcyh0aGlzLnVzZXJJZCk7XG4gIH1cblxuICAjZ2V0VGVtcGxhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuI2NhcmRzVGVtcGxhdGVcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZXNfX2l0ZW0nKS5jbG9uZU5vZGUodHJ1ZSk7XG4gIH1cblxuXG4gICNoYW5kbGVMaWtlKCkge1xuICAgIHRoaXMuI2hhbmRsZUxpa2VDbGljayh0aGlzLiNpc0xpa2VkKVxuICB9XG5cbiAgI3NldExpa2VDb3VudGVyKCkge1xuICAgIHRoaXMuI2NhcmRJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZXNfX2xpa2VzLWNvdW50ZXInKS50ZXh0Q29udGVudCA9IHRoaXMuI2xpa2VzU2V0LnNpemU7XG4gIH1cblxuICBzZXRMaWtlKGlkKSB7XG4gICAgdGhpcy4jbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdwbGFjZXNfX2xpa2UtYnV0dG9uX2FjdGl2ZScpO1xuXG4gICAgdGhpcy4jbGlrZXNTZXQuYWRkKGlkKTtcbiAgICB0aGlzLiNzZXRMaWtlQ291bnRlcigpO1xuXG4gICAgdGhpcy4jaXNMaWtlZCA9IHRydWU7XG4gIH1cblxuICByZW1vdmVMaWtlKGlkKSB7XG4gICAgdGhpcy4jbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdwbGFjZXNfX2xpa2UtYnV0dG9uX2FjdGl2ZScpO1xuXG4gICAgdGhpcy4jbGlrZXNTZXQuZGVsZXRlKGlkKTtcbiAgICB0aGlzLiNzZXRMaWtlQ291bnRlcigpO1xuXG4gICAgdGhpcy4jaXNMaWtlZCA9IGZhbHNlO1xuICB9XG5cbiAgI2RlbGV0ZUhhbmRsZXIoKSB7XG4gICAgdGhpcy4jaGFuZGxlRGVsZXRlQ2xpY2soKTtcbiAgfVxuXG4gICNzZXRFdmVudExpc3RlbmVycygpIHtcblxuICAgIHRoaXMuI2xpa2VCdXR0b25cbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuI2hhbmRsZUxpa2UuYmluZCh0aGlzKSk7XG5cbiAgICB0aGlzLiNkZWxldGVCdXR0b25cbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuI2RlbGV0ZUhhbmRsZXIuYmluZCh0aGlzKSk7XG5cbiAgICB0aGlzLiNjYXJkSW1hZ2VcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy4jaGFuZGxlQ2FyZENsaWNrKHRoaXMuI25hbWUsIHRoaXMuI2xpbmspO1xuICAgICAgfSk7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy4jY2FyZEl0ZW0gPSB0aGlzLiNnZXRUZW1wbGF0ZSgpO1xuXG4gICAgdGhpcy4jY2FyZEltYWdlID0gdGhpcy4jY2FyZEl0ZW0ucXVlcnlTZWxlY3RvcignLnBsYWNlc19faW1hZ2UnKTtcbiAgICB0aGlzLiNkZWxldGVCdXR0b24gPSB0aGlzLiNjYXJkSXRlbS5xdWVyeVNlbGVjdG9yKCcucGxhY2VzX19kZWxldGUtYnV0dG9uJyk7XG4gICAgdGhpcy4jbGlrZUJ1dHRvbiA9IHRoaXMuI2NhcmRJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZXNfX2xpa2UtYnV0dG9uJyk7XG5cbiAgICB0aGlzLiNjYXJkSXRlbS5xdWVyeVNlbGVjdG9yKCcucGxhY2VzX190aXRsZScpLnRleHRDb250ZW50ID0gdGhpcy4jbmFtZTtcblxuICAgIHRoaXMuI2NhcmRJbWFnZS5zcmMgPSB0aGlzLiNsaW5rO1xuICAgIHRoaXMuI2NhcmRJbWFnZS5hbHQgPSB0aGlzLiNuYW1lO1xuXG4gICAgdGhpcy4jc2V0TGlrZUNvdW50ZXIoKTtcbiAgICB0aGlzLiNzZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgaWYgKHRoaXMudXNlcklkICE9PSB0aGlzLiNvd25lcklkKSB7XG4gICAgICB0aGlzLiNkZWxldGVCdXR0b24ucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuI2NhcmRJdGVtO1xuICB9XG5cbiAgZGVsZXRlQ2FyZCgpIHtcbiAgICB0aGlzLiNjYXJkSXRlbS5yZW1vdmUoKTtcbiAgICB0aGlzLiNjYXJkSXRlbSA9IG51bGw7XG4gIH1cbn1cblxuXG5cblxuXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcblxuICAjcmVuZGVyZXI7XG4gICNjb250YWluZXI7XG5cbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciwgY2FyZHNDb250YWluZXIgfSkge1xuXG4gICAgdGhpcy4jcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLiNjb250YWluZXIgPSBjYXJkc0NvbnRhaW5lcjtcbiAgfVxuXG4gICNjbGVhcigpIHtcbiAgICB0aGlzLiNjb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gIH1cblxuICByZW5kZXJJdGVtcyhpdGVtcykge1xuICAgIHRoaXMuI2NsZWFyKCk7XG4gICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHRoaXMuI3JlbmRlcmVyKGl0ZW0pKTtcbiAgfVxuXG4gIGFkZEl0ZW0oaXRlbSkge1xuICAgIHRoaXMuI2NvbnRhaW5lci5wcmVwZW5kKGl0ZW0pO1xuICB9XG5cbiAgYWRkSXRlbXMoaXRlbXMpIHtcbiAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4gdGhpcy5hZGRJdGVtKGl0ZW0pKVxuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG5cbiAgI3BvcHVwO1xuXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLiNwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gIH1cblxuICBvcGVuUG9wdXAoKSB7XG4gICAgdGhpcy4jcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuI2hhbmRsZUVzY0Nsb3NlUG9wdXApO1xuICB9XG5cbiAgY2xvc2VQb3B1cCgpIHtcbiAgICBpZiAodGhpcy4jcG9wdXApIHtcbiAgICAgIHRoaXMuI3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlRXNjQ2xvc2VQb3B1cCk7XG4gICAgfVxuICB9XG5cbiAgI2hhbmRsZUVzY0Nsb3NlUG9wdXAgPSAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLmNsb3NlUG9wdXAodGhpcy4jcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX29wZW5lZCcpKTtcbiAgICB9XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLiNwb3B1cC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX19tb2RhbC13aW5kb3cnKSB8fCBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfb3BlbmVkJykpIHtcbiAgICAgICAgdGhpcy5jbG9zZVBvcHVwKHRoaXMuI3BvcHVwKTtcbiAgICAgIH1cbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX2Nsb3NlLWJ1dHRvbicpKSB7XG4gICAgICAgIHRoaXMuY2xvc2VQb3B1cCh0aGlzLiNwb3B1cCk7XG4gICAgICB9XG4gICAgfSlcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcblxuICAjaW1hZ2U7XG5cbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaW1hZ2VTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuI2ltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpbWFnZVNlbGVjdG9yKTtcbiAgfVxuXG4gIG9wZW5Qb3B1cChuYW1lLCBsaW5rKSB7XG5cbiAgICBzdXBlci5vcGVuUG9wdXAoKTtcblxuICAgIHRoaXMuI2ltYWdlLnNyYyA9IGxpbms7XG4gICAgdGhpcy4jaW1hZ2UuYWx0ID0gbmFtZTtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UtY2FwdGlvbicpLnRleHRDb250ZW50ID0gbmFtZTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG5cbiAgI2hhbmRsZUZvcm1TdWJtaXQ7XG4gICNpbnB1dExpc3Q7XG4gICNwb3B1cDtcbiAgI2Zvcm07XG4gICNpc0xvYWRpbmc7XG4gICNjdXN0b21CdXR0b25UZXh0O1xuICAjYnV0dG9uU3VibWl0O1xuICAjaW5wdXRWYWx1ZXNcblxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG5cbiAgICB0aGlzLiNwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy4jZm9ybSA9IHRoaXMuI3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xuICAgIHRoaXMuI2lucHV0TGlzdCA9IFsuLi50aGlzLiNmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKV07XG4gICAgdGhpcy4jYnV0dG9uU3VibWl0ID0gdGhpcy4jcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24nKTtcblxuICAgIHRoaXMuI2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuXG4gICAgdGhpcy4jaXNMb2FkaW5nID0gZmFsc2VcbiAgfVxuXG4gICNnZXRJbnB1dFZhbHVlcygpIHtcbiAgICByZXR1cm4gdGhpcy4jaW5wdXRMaXN0LnJlZHVjZSgoaW5wdXRWYWx1ZSwgaW5wdXQpID0+IHtcbiAgICAgIGlucHV0VmFsdWVbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICAgIHJldHVybiBpbnB1dFZhbHVlO1xuICAgIH0sIHt9KTtcbiAgfVxuXG4gIHNldElucHV0VmFsdWVzKGRhdGEpIHtcbiAgICB0aGlzLiNpbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICBpZiAoZGF0YVtpbnB1dC5uYW1lXSkge1xuICAgICAgICBpbnB1dC52YWx1ZSA9IGRhdGFbaW5wdXQubmFtZV07XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBnZXRGb3JtKCkge1xuICAgIHJldHVybiB0aGlzLiNmb3JtO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHRoaXMuI2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIHRoaXMuI2lucHV0VmFsdWVzID0gdGhpcy4jZ2V0SW5wdXRWYWx1ZXMoKTtcblxuICAgICAgaWYgKCF0aGlzLiNpc0xvYWRpbmcpIHtcbiAgICAgICAgdGhpcy4jY3VzdG9tQnV0dG9uVGV4dCA9IHRoaXMuI2J1dHRvblN1Ym1pdC50ZXh0Q29udGVudDtcbiAgICAgICAgdGhpcy4jYnV0dG9uU3VibWl0LnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiO1xuICAgICAgICB0aGlzLiNpc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLiNoYW5kbGVGb3JtU3VibWl0KHRoaXMuI2lucHV0VmFsdWVzKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5jbG9zZVBvcHVwKClcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSkpXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy4jaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICB0aGlzLiNidXR0b25TdWJtaXQudGV4dENvbnRlbnQgPSB0aGlzLiNjdXN0b21CdXR0b25UZXh0O1xuICAgICAgICAgICAgdGhpcy4jaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGNsb3NlUG9wdXAoKSB7XG4gICAgdGhpcy4jZm9ybS5yZXNldCgpO1xuXG4gICAgc3VwZXIuY2xvc2VQb3B1cCgpO1xuICB9XG59XG5cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybSBleHRlbmRzIFBvcHVwIHtcblxuICAjcG9wdXA7XG4gICNoYW5kbGVDb25maXJtO1xuICAjYnV0dG9uQ29uZmlybTtcbiAgI2RhdGE7XG4gICNjdXN0b21CdXR0b25UZXh0O1xuICAjaXNMb2FkaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUNvbmZpcm0pIHtcblxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuXG4gICAgdGhpcy4jcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuI2J1dHRvbkNvbmZpcm0gPSB0aGlzLiNwb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbl90eXBlX2NvbmZpcm0nKTtcblxuICAgIHRoaXMuI2hhbmRsZUNvbmZpcm0gPSBoYW5kbGVDb25maXJtO1xuXG4gICAgdGhpcy4jaXNMb2FkaW5nID0gZmFsc2U7XG4gIH1cblxuICBvcGVuUG9wdXAoZGF0YSkge1xuXG4gICAgc3VwZXIub3BlblBvcHVwKCk7XG5cbiAgICB0aGlzLiNkYXRhID0gZGF0YTtcbiAgfVxuXG4gIGNsb3NlUG9wdXAoKSB7XG5cbiAgICBzdXBlci5jbG9zZVBvcHVwKCk7XG4gIH1cblxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHRoaXMuI2J1dHRvbkNvbmZpcm0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cbiAgICAgIGlmICghdGhpcy4jaXNMb2FkaW5nKSB7XG4gICAgICAgIHRoaXMuI2N1c3RvbUJ1dHRvblRleHQgPSB0aGlzLiNidXR0b25Db25maXJtLnRleHRDb250ZW50O1xuICAgICAgICB0aGlzLiNidXR0b25Db25maXJtLnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiO1xuXG4gICAgICAgIHRoaXMuI2lzTG9hZGluZyA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuI2hhbmRsZUNvbmZpcm0odGhpcy4jZGF0YSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHRoaXMuY2xvc2VQb3B1cCgpXG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpKVxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuI2lzTG9hZGluZykge1xuICAgICAgICAgICAgdGhpcy4jYnV0dG9uQ29uZmlybS50ZXh0Q29udGVudCA9IHRoaXMuI2N1c3RvbUJ1dHRvblRleHQ7XG4gICAgICAgICAgICB0aGlzLiNpc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG5cbiAgI2RhdGE7XG4gICN1c2VySWQ7XG5cbiAgY29uc3RydWN0b3IoZGF0YSkge1xuXG4gICAgdGhpcy4jZGF0YSA9IGRhdGE7XG5cbiAgICB0aGlzLm5hbWVTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy4jZGF0YS51c2VyTmFtZSk7XG4gICAgdGhpcy5pbmZvU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuI2RhdGEudXNlckluZm8pO1xuICAgIHRoaXMuYXZhdGFyU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuI2RhdGEuYXZhdGFyKTtcbiAgICB0aGlzLmF2YXRhclNlbGVjdG9yLnRleHRDb250ZW50ID0gdGhpcy5hdmF0YXJTZWxlY3Rvci5zcmM7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcblxuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLm5hbWVTZWxlY3Rvci50ZXh0Q29udGVudCxcbiAgICAgIGFib3V0OiB0aGlzLmluZm9TZWxlY3Rvci50ZXh0Q29udGVudCxcbiAgICB9XG4gIH1cblxuICBzZXRVc2VySWQodXNlcklkKSB7XG4gICAgdGhpcy4jdXNlcklkID0gdXNlcklkO1xuICB9XG5cbiAgZ2V0VXNlcklkKCkge1xuICAgIHJldHVybiB0aGlzLiN1c2VySWQ7XG4gIH1cblxuICBzZXRVc2VySW5mbyhuYW1lLCBhYm91dCkge1xuXG4gICAgdGhpcy5uYW1lU2VsZWN0b3IudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHRoaXMuaW5mb1NlbGVjdG9yLnRleHRDb250ZW50ID0gYWJvdXQ7XG4gIH1cblxuICBzZXRBdmF0YXIodXJsKSB7XG5cbiAgICB0aGlzLmF2YXRhclNlbGVjdG9yLnNyYyA9IHVybDtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuXG4gICNpbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAjaW5wdXRFcnJvckNsYXNzO1xuICAjZXJyb3JDbGFzcztcbiAgI3N1Ym1pdEJ1dHRvbjtcbiAgI2lucHV0c0xpc3Q7XG4gICNlcnJvckVsZW1lbnQ7XG4gICNmb3JtRWxlbWVudDtcblxuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbGVtZW50KSB7XG5cbiAgICB0aGlzLiNpbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy4jaW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLiNlcnJvckNsYXNzID0gY29uZmlnLmVycm9yQ2xhc3M7XG4gICAgdGhpcy4jZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLiNpbnB1dHNMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuI2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmlucHV0U2VsZWN0b3IpXG4gICAgKTtcbiAgICB0aGlzLiNzdWJtaXRCdXR0b24gPSB0aGlzLiNmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG5cbiAgfVxuXG4gICNzZXRCdXR0b25JbmFjdGl2ZSgpIHtcbiAgICB0aGlzLiNzdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLiNpbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLiNzdWJtaXRCdXR0b24uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICB9O1xuXG4gICNzZXRCdXR0b25BY3RpdmUoKSB7XG4gICAgdGhpcy4jc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy4jaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy4jc3VibWl0QnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnLCBmYWxzZSk7XG4gIH07XG5cbiAgI2hhc0lucHV0c0Vycm9ycygpIHtcbiAgICByZXR1cm4gdGhpcy4jaW5wdXRzTGlzdC5zb21lKGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgcmV0dXJuICFpbnB1dC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfTtcblxuICAjdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuI2hhc0lucHV0c0Vycm9ycygpKSB7XG4gICAgICB0aGlzLiNzZXRCdXR0b25JbmFjdGl2ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLiNzZXRCdXR0b25BY3RpdmUoKTtcbiAgICB9XG4gIH07XG5cbiAgI3Nob3dJbnB1dEVycm9yKGlucHV0LCBlcnJvck1lc3NhZ2UpIHtcblxuICAgIHRoaXMuI2Vycm9yRWxlbWVudCA9IHRoaXMuI2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApO1xuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy4jaW5wdXRFcnJvckNsYXNzKTtcblxuICAgIHRoaXMuI2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgICB0aGlzLiNlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLiNlcnJvckNsYXNzKTtcbiAgfTtcblxuICAjaGlkZUlucHV0RXJyb3IoaW5wdXQpIHtcbiAgICB0aGlzLiNlcnJvckVsZW1lbnQgPSB0aGlzLiNmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuI2lucHV0RXJyb3JDbGFzcyk7XG4gICAgdGhpcy4jZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gICAgdGhpcy4jZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy4jZXJyb3JDbGFzcyk7XG4gIH07XG5cbiAgI2NoZWNrVmFsaWRpdHkoaW5wdXQpIHtcblxuICAgIGlmICghaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuI3Nob3dJbnB1dEVycm9yKGlucHV0LCBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuI2hpZGVJbnB1dEVycm9yKGlucHV0KTtcbiAgICB9XG4gIH07XG5cbiAgI3NldEV2ZW50TGlzdGVuZXJzKCkge1xuXG4gICAgdGhpcy4jdG9nZ2xlQnV0dG9uU3RhdGUodGhpcy4jaW5wdXRzTGlzdCk7XG4gICAgdGhpcy4jaW5wdXRzTGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuI2NoZWNrVmFsaWRpdHkoaW5wdXQpO1xuICAgICAgICB0aGlzLiN0b2dnbGVCdXR0b25TdGF0ZSh0aGlzLiNpbnB1dHNMaXN0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLiNzZXRCdXR0b25JbmFjdGl2ZSgpXG4gICAgdGhpcy4jaW5wdXRzTGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgdGhpcy4jaGlkZUlucHV0RXJyb3IoaW5wdXQpO1xuICAgIH0pO1xuICB9O1xuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy4jc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfTtcbn1cbiIsImV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fZm9ybScsXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX2J1dHRvbicsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6ICdwb3B1cF9fYnV0dG9uX2Rpc2FibGVkJyxcbiAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX2lucHV0X3R5cGVfZXJyb3InLFxuICBlcnJvckNsYXNzOiAncG9wdXBfX2Vycm9yX3Zpc2libGUnLFxufTtcblxuXG5cblxuZXhwb3J0IGNvbnN0IGNhcmRzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBsYWNlc19faXRlbXMnKVxuZXhwb3J0IGNvbnN0IHVzZXJTZWxlY3RvcnNEYXRhID0ge1xuICB1c2VyTmFtZTogJy5wcm9maWxlX190aXRsZScsXG4gIHVzZXJJbmZvOiAnLnByb2ZpbGVfX3N1YnRpdGxlJyxcbiAgYXZhdGFyOiAnLnByb2ZpbGVfX2F2YXRhcidcbn1cbiIsImltcG9ydCAnLi9pbmRleC5jc3MnO1xuXG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuXG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybS5qcyc7XG5cbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcblxuaW1wb3J0IHtcbiAgY29uZmlnLFxuICBjYXJkc0NvbnRhaW5lcixcbiAgdXNlclNlbGVjdG9yc0RhdGFcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuXG5jb25zdCBoYW5kbGVBZGRCdXR0b24gPSBmdW5jdGlvbiAoKSB7XG4gIHBvcHVwQWRkLm9wZW5Qb3B1cCgpO1xuICB2YWxpZGF0b3JGb3JtQWRkLnJlc2V0VmFsaWRhdGlvbigpO1xufVxuXG5jb25zdCBoYW5kbGVFZGl0QnV0dG9uID0gZnVuY3Rpb24gKCkge1xuICBwb3B1cEVkaXQub3BlblBvcHVwKCk7XG4gIHBvcHVwRWRpdC5zZXRJbnB1dFZhbHVlcyh1c2VySW5mby5nZXRVc2VySW5mbygpKTtcbiAgdmFsaWRhdG9yRm9ybUVkaXQucmVzZXRWYWxpZGF0aW9uKCk7XG59XG5cbmNvbnN0IGhhbmRsZUF2YXRhciA9IGZ1bmN0aW9uICgpIHtcbiAgcG9wdXBFZGl0QXZhdGFyLm9wZW5Qb3B1cCgpO1xuICBwb3B1cEVkaXRBdmF0YXIuc2V0SW5wdXRWYWx1ZXModXNlckluZm8uZ2V0VXNlckluZm8oKSk7XG4gIHZhbGlkYXRvckZvcm1BdmF0YXIucmVzZXRWYWxpZGF0aW9uKCk7XG59XG5cbmNvbnN0IGNyZWF0ZUNhcmQgPSBmdW5jdGlvbiAodmFsdWVzKSB7XG5cbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIHtcbiAgICAgIG5hbWU6IHZhbHVlcy5uYW1lLFxuICAgICAgbGluazogdmFsdWVzLmxpbmssXG4gICAgICBsaWtlczogdmFsdWVzLmxpa2VzLFxuICAgICAgb3duZXJJZDogdmFsdWVzLm93bmVyLl9pZCxcbiAgICAgIGlkOiB2YWx1ZXMuX2lkLFxuICAgIH0sXG4gICAgJyNjYXJkdGVtcGxhdGUnLFxuICAgIHVzZXJJbmZvLmdldFVzZXJJZCgpLFxuICAgIHBvcHVwSW1hZ2Uub3BlblBvcHVwLmJpbmQocG9wdXBJbWFnZSksICgpID0+IHtcbiAgICAgIHBvcHVwQ29uZmlybS5vcGVuUG9wdXAoe1xuICAgICAgICBpZDogdmFsdWVzLl9pZCxcbiAgICAgICAgaGFuZGxlRGVsZXRlOiBjYXJkLmRlbGV0ZUNhcmQuYmluZChjYXJkKSxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgKGlzTGlrZWQpID0+IHtcbiAgICAgIGlmIChpc0xpa2VkKSB7XG4gICAgICAgIGFwaS5yZW1vdmVMaWtlKHZhbHVlcy5faWQpXG4gICAgICAgICAgLnRoZW4oZGF0YSA9PiBjYXJkLnJlbW92ZUxpa2UoZGF0YS5vd25lci5faWQpKVxuICAgICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwaS5zZXRMaWtlKHZhbHVlcy5faWQpXG4gICAgICAgICAgLnRoZW4oZGF0YSA9PiBjYXJkLnNldExpa2UoZGF0YS5vd25lci5faWQpKVxuICAgICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpKTtcbiAgICAgIH1cbiAgICB9XG4gICk7XG5cbiAgcmV0dXJuIGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG59XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICB1cmw6ICdodHRwczovL25vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTUyLycsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiAnNzlkZmQ5N2UtNGM3My00YzM3LWE3ZDUtYjVlMDk3MTBmNWM5JyxcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gIH0sXG59KTtcblxuXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKHtcbiAgcmVuZGVyZXI6IChjYXJkRGF0YSkgPT4ge1xuICAgIGNhcmRMaXN0LmFkZEl0ZW0oY3JlYXRlQ2FyZChjYXJkRGF0YSkpXG4gIH0sIGNhcmRzQ29udGFpbmVyXG59KTtcblxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VyKCksIGFwaS5nZXRDYXJkcygpXSlcbiAgLnRoZW4oKFt1c2VyRGF0YSwgY2FyZHNEYXRhXSkgPT4ge1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHVzZXJEYXRhLm5hbWUsIHVzZXJEYXRhLmFib3V0KTtcbiAgICB1c2VySW5mby5zZXRVc2VySWQodXNlckRhdGEuX2lkKVxuICAgIGNhcmRMaXN0LnJlbmRlckl0ZW1zKGNhcmRzRGF0YSk7XG4gIH0pXG4gIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpKTtcblxuY29uc3QgY3JlYXRlVmFsaWRhdG9yID0gZnVuY3Rpb24gKGZvcm0pIHtcbiAgY29uc3QgZm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybSk7XG4gIHJldHVybiBmb3JtVmFsaWRhdG9yO1xufTtcblxuY29uc3QgcG9wdXBJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLnBvcHVwX3R5cGVfaW1hZ2UnLCAnLnBvcHVwX19pbWFnZScpO1xuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh1c2VyU2VsZWN0b3JzRGF0YSk7XG5cbmNvbnN0IHBvcHVwQWRkID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF90eXBlX2FkZCcsIChpbnB1dFZhbHVlcyA9PiBhcGkuYWRkQ2FyZChpbnB1dFZhbHVlcylcbiAgLnRoZW4oY2FyZERhdGEgPT4gY2FyZExpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGNhcmREYXRhKSkpXG4pKTtcblxuY29uc3QgcG9wdXBFZGl0ID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF90eXBlX2VkaXQnLCAoaW5wdXRWYWx1ZXMgPT5cbiAgYXBpLnVwZGF0ZVVzZXIoaW5wdXRWYWx1ZXMpXG4gICAgLnRoZW4odXNlckRhdGEgPT4gdXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEubmFtZSwgdXNlckRhdGEuYWJvdXQpKVxuKSk7XG5cbmNvbnN0IHBvcHVwRWRpdEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfdHlwZV9zZXQtYXZhdGFyJywgKGlucHV0VmFsdWVzID0+XG4gIGFwaS5zZXRBdmF0YXIoeyBhdmF0YXI6IGlucHV0VmFsdWVzLmF2YXRhciB9KVxuICAgIC50aGVuKHVzZXJJbmZvLnNldEF2YXRhcihpbnB1dFZhbHVlcy5hdmF0YXIpKVxuKSk7XG5cbmNvbnN0IHBvcHVwQ29uZmlybSA9IG5ldyBQb3B1cFdpdGhDb25maXJtKCcucG9wdXBfdHlwZV9jb25maXJtJyxcbiAgKHsgaWQsIGhhbmRsZURlbGV0ZSB9KSA9PiB7XG4gICAgcmV0dXJuIGFwaS5kZWxldGVDYXJkKGlkKVxuICAgICAgLnRoZW4oKCkgPT4gaGFuZGxlRGVsZXRlKCkpO1xuICB9KTtcblxuY29uc3QgdmFsaWRhdG9yRm9ybUFkZCA9IGNyZWF0ZVZhbGlkYXRvcihwb3B1cEFkZC5nZXRGb3JtKCkpO1xuY29uc3QgdmFsaWRhdG9yRm9ybUVkaXQgPSBjcmVhdGVWYWxpZGF0b3IocG9wdXBFZGl0LmdldEZvcm0oKSk7XG5jb25zdCB2YWxpZGF0b3JGb3JtQXZhdGFyID0gY3JlYXRlVmFsaWRhdG9yKHBvcHVwRWRpdEF2YXRhci5nZXRGb3JtKCkpO1xuXG52YWxpZGF0b3JGb3JtQWRkLmVuYWJsZVZhbGlkYXRpb24oKTtcbnZhbGlkYXRvckZvcm1FZGl0LmVuYWJsZVZhbGlkYXRpb24oKTtcbnZhbGlkYXRvckZvcm1BdmF0YXIuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5wb3B1cEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wb3B1cEFkZC5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBFZGl0LnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wb3B1cEVkaXRBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnBvcHVwQ29uZmlybS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQWRkQnV0dG9uKTtcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlRWRpdEJ1dHRvbik7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyLWNvbnRhaW5lcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQXZhdGFyKTtcblxuIl0sIm5hbWVzIjpbIkFwaSIsInVybCIsImNvbmZpZ0FwaSIsInRoaXMiLCJpbnB1dFZhbHVlcyIsImlkIiwiZGF0YSIsInBhdGgiLCJtZXRob2QiLCJib2R5Iiwib3B0aW9ucyIsIkpTT04iLCJzdHJpbmdpZnkiLCJmZXRjaCIsInJlc3BvbnNlIiwianNvbiIsIm9rIiwiRXJyb3IiLCJtZXNzYWdlIiwiQ2FyZCIsImNhcmRzRGF0YSIsImNhcmRzSWRTZWxlY3RvciIsInVzZXJJZCIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwiaGFuZGxlTGlrZUNsaWNrIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibmFtZSIsImxpbmsiLCJvd25lcklkIiwiU2V0IiwibGlrZXMiLCJoYXMiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJkZWxldGUiLCJ0ZXh0Q29udGVudCIsInNyYyIsImFsdCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJzaXplIiwiYWRkRXZlbnRMaXN0ZW5lciIsImJpbmQiLCJTZWN0aW9uIiwicmVuZGVyZXIiLCJjYXJkc0NvbnRhaW5lciIsIml0ZW1zIiwiZm9yRWFjaCIsIml0ZW0iLCJwcmVwZW5kIiwiYWRkSXRlbSIsImlubmVySFRNTCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImV2dCIsImtleSIsImNsb3NlUG9wdXAiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlRXNjQ2xvc2VQb3B1cCIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoSW1hZ2UiLCJpbWFnZVNlbGVjdG9yIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXQiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwidGhlbiIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImZpbmFsbHkiLCJyZXNldCIsInJlZHVjZSIsImlucHV0VmFsdWUiLCJQb3B1cFdpdGhDb25maXJtIiwiaGFuZGxlQ29uZmlybSIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwidXNlck5hbWUiLCJpbmZvU2VsZWN0b3IiLCJ1c2VySW5mbyIsImF2YXRhclNlbGVjdG9yIiwiYXZhdGFyIiwiYWJvdXQiLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiZm9ybUVsZW1lbnQiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIkFycmF5IiwiZnJvbSIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsInNvbWUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiZXJyb3JNZXNzYWdlIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJmb3JtU2VsZWN0b3IiLCJjcmVhdGVDYXJkIiwidmFsdWVzIiwiY2FyZCIsIm93bmVyIiwiX2lkIiwiZ2V0VXNlcklkIiwicG9wdXBJbWFnZSIsIm9wZW5Qb3B1cCIsInBvcHVwQ29uZmlybSIsImhhbmRsZURlbGV0ZSIsImRlbGV0ZUNhcmQiLCJpc0xpa2VkIiwiYXBpIiwicmVtb3ZlTGlrZSIsInNldExpa2UiLCJnZW5lcmF0ZUNhcmQiLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsImNhcmRMaXN0IiwiY2FyZERhdGEiLCJQcm9taXNlIiwiYWxsIiwiZ2V0VXNlciIsImdldENhcmRzIiwidXNlckRhdGEiLCJzZXRVc2VySW5mbyIsInNldFVzZXJJZCIsInJlbmRlckl0ZW1zIiwiY3JlYXRlVmFsaWRhdG9yIiwiZm9ybSIsInBvcHVwQWRkIiwiYWRkQ2FyZCIsInBvcHVwRWRpdCIsInVwZGF0ZVVzZXIiLCJwb3B1cEVkaXRBdmF0YXIiLCJzZXRBdmF0YXIiLCJ2YWxpZGF0b3JGb3JtQWRkIiwiZ2V0Rm9ybSIsInZhbGlkYXRvckZvcm1FZGl0IiwidmFsaWRhdG9yRm9ybUF2YXRhciIsImVuYWJsZVZhbGlkYXRpb24iLCJzZXRFdmVudExpc3RlbmVycyIsInJlc2V0VmFsaWRhdGlvbiIsInNldElucHV0VmFsdWVzIiwiZ2V0VXNlckluZm8iXSwic291cmNlUm9vdCI6IiJ9