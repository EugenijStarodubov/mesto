/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}var e=["url"];function n(){n=function(){return e};var e={},r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new S(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=_(a,n);if(u){if(u===p)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=f(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p={};function h(){}function y(){}function v(){}var d={};l(d,a,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(j([])));b&&b!==r&&o.call(b,a)&&(d=b);var m=v.prototype=h.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(e,n){function r(i,a,u,c){var l=f(e[i],e,a);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==t(p)&&o.call(p,"__await")?n.resolve(p.__await).then((function(t){r("next",t,u,c)}),(function(t){r("throw",t,u,c)})):n.resolve(p).then((function(t){s.value=t,u(s)}),(function(t){return r("throw",t,u,c)}))}c(l.arg)}var i;this._invoke=function(t,e){function o(){return new n((function(n,o){r(t,e,n,o)}))}return i=i?i.then(o,o):o()}}function _(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=f(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,l(m,"constructor",v),l(v,"constructor",y),y.displayName=l(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t},e.awrap=function(t){return{__await:t}},g(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),l(m,c,"Generator"),l(m,a,(function(){return this})),l(m,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function u(t){a(i,r,o,u,c,"next",t)}function c(t){a(i,r,o,u,c,"throw",t)}u(void 0)}))}}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){s(t,e),e.set(t,n)}function s(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function f(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function p(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,y(t,e,"get"))}function h(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,y(t,e,"set"),n),n}function y(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var v=new WeakMap,d=new WeakMap,w=new WeakSet,b=function(){function t(n){var r,o=n.url,i=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(n,e);!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,r=w),r.add(this),l(this,v,{writable:!0,value:void 0}),l(this,d,{writable:!0,value:void 0}),h(this,v,o),h(this,d,i)}var n,r;return n=t,(r=[{key:"getUser",value:function(){return f(this,w,m).call(this,"users/me")}},{key:"getCards",value:function(){return f(this,w,m).call(this,"cards")}},{key:"updateUser",value:function(t){return f(this,w,m).call(this,"users/me","PATCH",t)}},{key:"addCard",value:function(t){return f(this,w,m).call(this,"cards","POST",t)}},{key:"setLike",value:function(t){return f(this,w,m).call(this,"cards/".concat(t,"/likes"),"PUT")}},{key:"removeLike",value:function(t){return f(this,w,m).call(this,"cards/".concat(t,"/likes"),"PUT")}},{key:"deleteCard",value:function(t){return f(this,w,m).call(this,"cards/".concat(t),"DELETE")}},{key:"setAvatar",value:function(t){return f(this,w,m).call(this,"users/me/avatar","PATCH",t)}}])&&c(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function m(t){return g.apply(this,arguments)}function g(){return g=u(n().mark((function t(e){var r,i,a,u,c,l=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:"GET",i=l.length>2?l[2]:void 0,a=o(o({},p(this,d)),{},{method:r}),i&&(a.body="string"==typeof i?i:JSON.stringify(i)),t.next=6,fetch(p(this,v)+e,a);case 6:return u=t.sent,t.next=9,u.json();case 9:if(c=t.sent,!u.ok){t.next=12;break}return t.abrupt("return",c);case 12:throw new Error(c.message);case 13:case"end":return t.stop()}}),t,this)}))),g.apply(this,arguments)}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e){O(t,e),e.add(t)}function E(t,e,n){O(t,e),e.set(t,n)}function O(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function j(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,L(t,e,"get"))}function P(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,L(t,e,"set"),n),n}function L(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var T=new WeakMap,W=new WeakMap,C=new WeakMap,x=new WeakMap,M=new WeakMap,I=new WeakMap,q=new WeakMap,R=new WeakMap,A=new WeakMap,U=new WeakMap,D=new WeakMap,N=new WeakMap,z=new WeakMap,V=new WeakSet,B=new WeakSet,F=new WeakSet,G=new WeakSet,H=new WeakSet,Y=function(){function t(e,n,r,o,i,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),_(this,H),_(this,G),_(this,F),_(this,B),_(this,V),E(this,T,{writable:!0,value:void 0}),E(this,W,{writable:!0,value:void 0}),E(this,C,{writable:!0,value:void 0}),E(this,x,{writable:!0,value:void 0}),E(this,M,{writable:!0,value:void 0}),E(this,I,{writable:!0,value:void 0}),E(this,q,{writable:!0,value:void 0}),E(this,R,{writable:!0,value:void 0}),E(this,A,{writable:!0,value:void 0}),E(this,U,{writable:!0,value:void 0}),E(this,D,{writable:!0,value:void 0}),E(this,N,{writable:!0,value:void 0}),E(this,z,{writable:!0,value:void 0}),P(this,T,document.querySelector(n)),P(this,C,e.name),P(this,x,e.link),P(this,A,e.ownerId),this.userId=r,P(this,I,o),P(this,q,i),P(this,D,a),P(this,R,new Set(e.likes)),P(this,N,j(this,R).has(this.userId))}var e,n;return e=t,(n=[{key:"setLike",value:function(t){j(this,z).classList.add("places__like-button_active"),j(this,R).add(t),S(this,F,K).call(this),P(this,N,!0)}},{key:"removeLike",value:function(t){j(this,z).classList.remove("places__like-button_active"),j(this,R).delete(t),S(this,F,K).call(this),P(this,N,!1)}},{key:"generateCard",value:function(){return P(this,W,S(this,V,$).call(this)),P(this,M,j(this,W).querySelector(".places__image")),P(this,U,j(this,W).querySelector(".places__delete-button")),P(this,z,j(this,W).querySelector(".places__like-button")),j(this,W).querySelector(".places__title").textContent=j(this,C),j(this,M).src=j(this,x),j(this,M).alt=j(this,C),S(this,F,K).call(this),S(this,H,X).call(this),this.userId!==j(this,A)&&j(this,U).remove(),j(this,W)}},{key:"deleteCard",value:function(){j(this,W).remove(),P(this,W,null)}}])&&k(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function $(){return j(this,T).content.querySelector(".places__item").cloneNode(!0)}function J(){j(this,D).call(this,j(this,N))}function K(){j(this,W).querySelector(".places__likes-counter").textContent=j(this,R).size}function Q(){j(this,q).call(this)}function X(){var t=this;j(this,z).addEventListener("click",S(this,B,J).bind(this)),j(this,U).addEventListener("click",S(this,G,Q).bind(this)),j(this,M).addEventListener("click",(function(){j(t,I).call(t,j(t,C),j(t,x))}))}function Z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tt(t,e,n){et(t,e),e.set(t,n)}function et(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nt(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,ot(t,e,"get"))}function rt(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,ot(t,e,"set"),n),n}function ot(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var it=new WeakMap,at=new WeakMap,ut=new WeakSet,ct=function(){function t(e){var n,r=e.renderer,o=e.cardsContainer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),et(this,n=ut),n.add(this),tt(this,it,{writable:!0,value:void 0}),tt(this,at,{writable:!0,value:void 0}),rt(this,it,r),rt(this,at,o)}var e,n;return e=t,(n=[{key:"renderItems",value:function(t){var e=this;(function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n})(this,ut,lt).call(this),t.forEach((function(t){return nt(e,it).call(e,t)}))}},{key:"addItem",value:function(t){nt(this,at).prepend(t)}},{key:"addItems",value:function(t){var e=this;t.forEach((function(t){return e.addItem(t)}))}}])&&Z(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function lt(){nt(this,at).innerHTML=""}function st(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ft(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function pt(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,ht(t,e,"get"))}function ht(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var yt=new WeakMap,vt=new WeakMap,dt=function(){function t(e){var n,r,o,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ft(this,yt,{writable:!0,value:void 0}),ft(this,vt,{writable:!0,value:function(t){"Escape"===t.key&&i.closePopup(pt(i,yt).querySelector(".popup_opened"))}}),n=this,r=yt,o=document.querySelector(e),function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(n,ht(n,r,"set"),o)}var e,n;return e=t,(n=[{key:"openPopup",value:function(){pt(this,yt).classList.add("popup_opened"),document.addEventListener("keydown",pt(this,vt))}},{key:"closePopup",value:function(){pt(this,yt)&&(pt(this,yt).classList.remove("popup_opened"),document.removeEventListener("keydown",this.handleEscClosePopup))}},{key:"setEventListeners",value:function(){var t=this;pt(this,yt).addEventListener("mousedown",(function(e){(e.target.classList.contains("popup__modal-window")||e.target.classList.contains("popup_opened"))&&t.closePopup(pt(t,yt)),e.target.classList.contains("popup__close-button")&&t.closePopup(pt(t,yt))}))}}])&&st(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function wt(t){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wt(t)}function bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mt(){return mt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=gt(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},mt.apply(this,arguments)}function gt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ot(t)););return t}function kt(t,e){return kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kt(t,e)}function _t(t,e){if(e&&("object"===wt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Et(t)}function Et(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ot(t){return Ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ot(t)}function St(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,jt(t,e,"get"))}function jt(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Pt=new WeakMap,Lt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kt(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ot(r);if(o){var n=Ot(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _t(this,t)});function a(t,e){var n,r,o,u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),r=Et(n=i.call(this,t)),u={writable:!0,value:void 0},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r,o=Pt),o.set(r,u),function(t,e,n){(function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}})(t,jt(t,e,"set"),n)}(Et(n),Pt,document.querySelector(e)),n}return e=a,(n=[{key:"openPopup",value:function(t,e){mt(Ot(a.prototype),"openPopup",this).call(this),St(this,Pt).src=e,St(this,Pt).alt=t,document.querySelector(".popup__image-caption").textContent=t}}])&&bt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(dt);function Tt(t){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tt(t)}function Wt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xt(){return xt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Mt(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},xt.apply(this,arguments)}function Mt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=At(t)););return t}function It(t,e){return It=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},It(t,e)}function qt(t,e){if(e&&("object"===Tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Rt(t)}function Rt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function At(t){return At=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},At(t)}function Ut(t,e,n){Dt(t,e),e.set(t,n)}function Dt(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Nt(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Vt(t,e,"get"))}function zt(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Vt(t,e,"set"),n),n}function Vt(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Bt=new WeakMap,Ft=new WeakMap,Gt=new WeakMap,Ht=new WeakMap,Yt=new WeakMap,$t=new WeakMap,Jt=new WeakMap,Kt=new WeakMap,Qt=new WeakSet,Xt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&It(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=At(r);if(o){var n=At(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return qt(this,t)});function a(t,e){var n,r,o,u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),Dt(r=Rt(n=i.call(this,t)),o=Qt),o.add(r),Ut(Rt(n),Bt,{writable:!0,value:void 0}),Ut(Rt(n),Ft,{writable:!0,value:void 0}),Ut(Rt(n),Gt,{writable:!0,value:void 0}),Ut(Rt(n),Ht,{writable:!0,value:void 0}),Ut(Rt(n),Yt,{writable:!0,value:void 0}),Ut(Rt(n),$t,{writable:!0,value:void 0}),Ut(Rt(n),Jt,{writable:!0,value:void 0}),Ut(Rt(n),Kt,{writable:!0,value:void 0}),zt(Rt(n),Gt,document.querySelector(t)),zt(Rt(n),Ht,Nt(Rt(n),Gt).querySelector(".popup__form")),zt(Rt(n),Ft,function(t){if(Array.isArray(t))return Wt(t)}(u=Nt(Rt(n),Ht).querySelectorAll(".popup__input"))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(u)||function(t,e){if(t){if("string"==typeof t)return Wt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wt(t,e):void 0}}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),zt(Rt(n),Jt,Nt(Rt(n),Gt).querySelector(".popup__button")),zt(Rt(n),Bt,e),zt(Rt(n),Yt,!1),n}return e=a,(n=[{key:"setInputValues",value:function(t){Nt(this,Ft).forEach((function(e){t[e.name]&&(e.value=t[e.name])}))}},{key:"getForm",value:function(){return Nt(this,Ht)}},{key:"setEventListeners",value:function(){var t=this;xt(At(a.prototype),"setEventListeners",this).call(this),Nt(this,Ht).addEventListener("submit",(function(e){e.preventDefault(),zt(t,Kt,function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}(t,Qt,Zt).call(t)),Nt(t,Yt)||(zt(t,$t,Nt(t,Jt).textContent),Nt(t,Jt).textContent="Сохранение...",zt(t,Yt,!0)),Nt(t,Bt).call(t,Nt(t,Kt)).then((function(){t.closePopup()})).catch((function(t){return console.log(t.message)})).finally((function(){Nt(t,Yt)&&(Nt(t,Jt).textContent=Nt(t,$t),zt(t,Yt,!1))}))}))}},{key:"closePopup",value:function(){Nt(this,Ht).reset(),xt(At(a.prototype),"closePopup",this).call(this)}}])&&Ct(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(dt);function Zt(){return Nt(this,Ft).reduce((function(t,e){return t[e.name]=e.value,t}),{})}function te(t){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(t)}function ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ne(){return ne="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=re(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ne.apply(this,arguments)}function re(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ue(t)););return t}function oe(t,e){return oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oe(t,e)}function ie(t,e){if(e&&("object"===te(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ae(t)}function ae(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ue(t){return ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ue(t)}function ce(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function le(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,fe(t,e,"get"))}function se(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,fe(t,e,"set"),n),n}function fe(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var pe=new WeakMap,he=new WeakMap,ye=new WeakMap,ve=new WeakMap,de=new WeakMap,we=new WeakMap,be=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oe(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ue(r);if(o){var n=ue(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ie(this,t)});function a(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),ce(ae(n=i.call(this,t)),pe,{writable:!0,value:void 0}),ce(ae(n),he,{writable:!0,value:void 0}),ce(ae(n),ye,{writable:!0,value:void 0}),ce(ae(n),ve,{writable:!0,value:void 0}),ce(ae(n),de,{writable:!0,value:void 0}),ce(ae(n),we,{writable:!0,value:void 0}),se(ae(n),pe,document.querySelector(t)),se(ae(n),ye,le(ae(n),pe).querySelector(".popup__button_type_confirm")),se(ae(n),he,e),se(ae(n),we,!1),n}return e=a,(n=[{key:"openPopup",value:function(t){ne(ue(a.prototype),"openPopup",this).call(this),se(this,ve,t)}},{key:"closePopup",value:function(){ne(ue(a.prototype),"closePopup",this).call(this)}},{key:"setEventListeners",value:function(){var t=this;ne(ue(a.prototype),"setEventListeners",this).call(this),le(this,ye).addEventListener("click",(function(){le(t,we)||(se(t,de,le(t,ye).textContent),le(t,ye).textContent="Сохранение...",se(t,we,!0)),le(t,he).call(t,le(t,ve)).then((function(){t.closePopup()})).catch((function(t){return console.log(t.message)})).finally((function(){le(t,we)&&(le(t,ye).textContent=le(t,de),se(t,we,!1))}))}))}}])&&ee(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(dt);function me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ge(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function ke(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Ee(t,e,"get"))}function _e(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Ee(t,e,"set"),n),n}function Ee(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Oe=new WeakMap,Se=new WeakMap,je=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ge(this,Oe,{writable:!0,value:void 0}),ge(this,Se,{writable:!0,value:void 0}),_e(this,Oe,e),this.nameSelector=document.querySelector(ke(this,Oe).userName),this.infoSelector=document.querySelector(ke(this,Oe).userInfo),this.avatarSelector=document.querySelector(ke(this,Oe).avatar),this.avatarSelector.textContent=this.avatarSelector.src}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this.nameSelector.textContent,about:this.infoSelector.textContent}}},{key:"setUserId",value:function(t){_e(this,Se,t)}},{key:"getUserId",value:function(){return ke(this,Se)}},{key:"setUserInfo",value:function(t,e){this.nameSelector.textContent=t,this.infoSelector.textContent=e}},{key:"setAvatar",value:function(t){this.avatarSelector.src=t}}])&&me(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Le(t,e){We(t,e),e.add(t)}function Te(t,e,n){We(t,e),e.set(t,n)}function We(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ce(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function xe(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Ie(t,e,"get"))}function Me(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Ie(t,e,"set"),n),n}function Ie(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var qe=new WeakMap,Re=new WeakMap,Ae=new WeakMap,Ue=new WeakMap,De=new WeakMap,Ne=new WeakMap,ze=new WeakMap,Ve=new WeakSet,Be=new WeakSet,Fe=new WeakSet,Ge=new WeakSet,He=new WeakSet,Ye=new WeakSet,$e=new WeakSet,Je=new WeakSet,Ke=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Le(this,Je),Le(this,$e),Le(this,Ye),Le(this,He),Le(this,Ge),Le(this,Fe),Le(this,Be),Le(this,Ve),Te(this,qe,{writable:!0,value:void 0}),Te(this,Re,{writable:!0,value:void 0}),Te(this,Ae,{writable:!0,value:void 0}),Te(this,Ue,{writable:!0,value:void 0}),Te(this,De,{writable:!0,value:void 0}),Te(this,Ne,{writable:!0,value:void 0}),Te(this,ze,{writable:!0,value:void 0}),Me(this,qe,e.inactiveButtonClass),Me(this,Re,e.inputErrorClass),Me(this,Ae,e.errorClass),Me(this,ze,n),Me(this,De,Array.from(xe(this,ze).querySelectorAll(e.inputSelector))),Me(this,Ue,xe(this,ze).querySelector(e.submitButtonSelector))}var e,n;return e=t,(n=[{key:"resetValidation",value:function(){var t=this;Ce(this,Ve,Qe).call(this),xe(this,De).forEach((function(e){Ce(t,Ye,nn).call(t,e)}))}},{key:"enableValidation",value:function(){Ce(this,Je,on).call(this)}}])&&Pe(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Qe(){xe(this,Ue).classList.add(xe(this,qe)),xe(this,Ue).setAttribute("disabled",!0)}function Xe(){xe(this,Ue).classList.remove(xe(this,qe)),xe(this,Ue).removeAttribute("disabled",!1)}function Ze(){return xe(this,De).some((function(t){return!t.validity.valid}))}function tn(){Ce(this,Fe,Ze).call(this)?Ce(this,Ve,Qe).call(this):Ce(this,Be,Xe).call(this)}function en(t,e){Me(this,Ne,xe(this,ze).querySelector("#".concat(t.id,"-error"))),t.classList.add(xe(this,Re)),xe(this,Ne).textContent=e,xe(this,Ne).classList.add(xe(this,Ae))}function nn(t){Me(this,Ne,xe(this,ze).querySelector("#".concat(t.id,"-error"))),t.classList.remove(xe(this,Re)),xe(this,Ne).textContent="",xe(this,Ne).classList.remove(xe(this,Ae))}function rn(t){t.validity.valid?Ce(this,Ye,nn).call(this,t):Ce(this,He,en).call(this,t,t.validationMessage)}function on(){var t=this;Ce(this,Ge,tn).call(this,xe(this,De)),xe(this,De).forEach((function(e){e.addEventListener("input",(function(){Ce(t,$e,rn).call(t,e),Ce(t,Ge,tn).call(t,xe(t,De))}))}))}var an={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},un=document.querySelector(".places__items");function cn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ln=function(t){var e=new Y({name:t.name,link:t.link,likes:t.likes,ownerId:t.owner._id,id:t._id},"#cardtemplate",yn.getUserId(),hn.openPopup.bind(hn),(function(){bn.openPopup({id:t._id,handleDelete:e.deleteCard.bind(e)})}),(function(n){n?sn.removeLike(t._id).then((function(t){return e.removeLike(t.owner._id)})).catch((function(t){return console.log(t.message)})):sn.setLike(t._id).then((function(t){return e.setLike(t.owner._id)})).catch((function(t){return console.log(t.message)}))}));return e.generateCard()},sn=new b({url:"https://nomoreparties.co/v1/cohort-52/",headers:{authorization:"79dfd97e-4c73-4c37-a7d5-b5e09710f5c9","Content-Type":"application/json"}}),fn=new ct({renderer:function(t){fn.addItem(ln(t))},cardsContainer:un});Promise.all([sn.getUser(),sn.getCards()]).then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,n)||function(t,e){if(t){if("string"==typeof t)return cn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cn(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];yn.setUserInfo(o.name,o.about),yn.setUserId(o._id),fn.renderItems(i)})).catch((function(t){return console.log(t.message)}));var pn=function(t){return new Ke(an,t)},hn=new Lt(".popup_type_image",".popup__image"),yn=new je({userName:".profile__title",userInfo:".profile__subtitle",avatar:".profile__avatar"}),vn=new Xt(".popup_type_add",(function(t){return sn.addCard(t).then((function(t){return fn.addItem(ln(t))}))})),dn=new Xt(".popup_type_edit",(function(t){return sn.updateUser(t).then((function(t){return yn.setUserInfo(t.name,t.about)}))})),wn=new Xt(".popup_type_set-avatar",(function(t){return sn.setAvatar({avatar:t.avatar}).then(yn.setAvatar(t.avatar))})),bn=new be(".popup_type_confirm",(function(t){var e=t.id,n=t.handleDelete;return sn.deleteCard(e).then((function(){n()})).catch((function(t){return console.log(t.message)}))})),mn=pn(vn.getForm()),gn=pn(dn.getForm()),kn=pn(wn.getForm());mn.enableValidation(),gn.enableValidation(),kn.enableValidation(),hn.setEventListeners(),vn.setEventListeners(),dn.setEventListeners(),wn.setEventListeners(),bn.setEventListeners(),document.querySelector(".profile__add-button").addEventListener("click",(function(){vn.openPopup(),mn.resetValidation()})),document.querySelector(".profile__edit-button").addEventListener("click",(function(){dn.openPopup(),dn.setInputValues(yn.getUserInfo()),gn.resetValidation()})),document.querySelector(".profile__avatar-container").addEventListener("click",(function(){wn.openPopup(),wn.setInputValues(yn.getUserInfo()),kn.resetValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQWMsMEJBQTJCLFNBQUE5RCxHQUFXLE9BQzlFcUgsR0FBSXVCLFVBQVUsQ0FBRXZELE9BQVFyRixFQUFZcUYsU0FDakNqQixLQUFLZSxHQUFTeUQsVUFBVTVJLEVBQVlxRixRQUZ1QyxJQUsxRTRCLEdBQWUsSUFBSXBDLEdBQWlCLHVCQUN4QyxZQUEwQixJQUF2QjVFLEVBQXVCLEVBQXZCQSxHQUFJaUgsRUFBbUIsRUFBbkJBLGFBQ0wsT0FBT0csR0FBSUYsV0FBV2xILEdBQ25CbUUsTUFBSyxXQUNKOEMsR0FDRCxJQUNBN0MsT0FBTSxTQUFBQyxHQUFHLE9BQUlDLFFBQVFDLElBQUlGLEVBQUl4RCxRQUFwQixHQUNiLElBRUcrSCxHQUFtQlIsR0FBZ0JFLEdBQVNPLFdBQzVDQyxHQUFvQlYsR0FBZ0JJLEdBQVVLLFdBQzlDRSxHQUFzQlgsR0FBZ0JNLEdBQWdCRyxXQUU1REQsR0FBaUJJLG1CQUNqQkYsR0FBa0JFLG1CQUNsQkQsR0FBb0JDLG1CQUVwQmxDLEdBQVdtQyxvQkFDWFgsR0FBU1csb0JBQ1RULEdBQVVTLG9CQUNWUCxHQUFnQk8sb0JBQ2hCakMsR0FBYWlDLG9CQUViNUgsU0FBU0MsY0FBYyx3QkFBd0JpQixpQkFBaUIsU0F4SHhDLFdBQ3RCK0YsR0FBU3ZCLFlBQ1Q2QixHQUFpQk0saUJBQ2xCLElBc0hEN0gsU0FBU0MsY0FBYyx5QkFBeUJpQixpQkFBaUIsU0FwSHhDLFdBQ3ZCaUcsR0FBVXpCLFlBQ1Z5QixHQUFVVyxlQUFlakUsR0FBU2tFLGVBQ2xDTixHQUFrQkksaUJBQ25CLElBaUhEN0gsU0FBU0MsY0FBYyw4QkFBOEJpQixpQkFBaUIsU0EvR2pELFdBQ25CbUcsR0FBZ0IzQixZQUNoQjJCLEdBQWdCUyxlQUFlakUsR0FBU2tFLGVBQ3hDTCxHQUFvQkcsaUJBQ3JCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcblxuICAjdXJsO1xuICAjY29uZmlnQXBpO1xuXG4gIGNvbnN0cnVjdG9yKHsgdXJsLCAuLi5jb25maWdBcGkgfSkge1xuXG4gICAgdGhpcy4jdXJsID0gdXJsO1xuICAgIHRoaXMuI2NvbmZpZ0FwaSA9IGNvbmZpZ0FwaTtcbiAgfVxuXG4gIGFzeW5jICNyZW5kZXJSZXF1ZXN0KHBhdGgsIG1ldGhvZCA9IFwiR0VUXCIsIGJvZHkpIHtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSB7IC4uLnRoaXMuI2NvbmZpZ0FwaSwgbWV0aG9kIH07XG5cbiAgICBpZiAoYm9keSkge1xuXG4gICAgICAodHlwZW9mIGJvZHkgPT09IFwic3RyaW5nXCIpID8gb3B0aW9ucy5ib2R5ID0gYm9keVxuICAgICAgICA6IG9wdGlvbnMuYm9keSA9IEpTT04uc3RyaW5naWZ5KGJvZHkpO1xuICAgIH1cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuI3VybCArIHBhdGgsIG9wdGlvbnMpO1xuICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgIHJldHVybiBqc29uO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcihqc29uLm1lc3NhZ2UpO1xuICB9XG5cbiAgZ2V0VXNlcigpIHtcbiAgICByZXR1cm4gdGhpcy4jcmVuZGVyUmVxdWVzdChcInVzZXJzL21lXCIpO1xuICB9XG5cbiAgZ2V0Q2FyZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuI3JlbmRlclJlcXVlc3QoXCJjYXJkc1wiKTtcbiAgfVxuXG4gIHVwZGF0ZVVzZXIoaW5wdXRWYWx1ZXMpIHtcblxuICAgIHJldHVybiB0aGlzLiNyZW5kZXJSZXF1ZXN0KCd1c2Vycy9tZScsICdQQVRDSCcsIGlucHV0VmFsdWVzKTtcbiAgfVxuXG4gIGFkZENhcmQoaW5wdXRWYWx1ZXMpIHtcbiAgICByZXR1cm4gdGhpcy4jcmVuZGVyUmVxdWVzdChcImNhcmRzXCIsICdQT1NUJywgaW5wdXRWYWx1ZXMpO1xuICB9XG5cbiAgc2V0TGlrZShpZCkge1xuICAgIHJldHVybiB0aGlzLiNyZW5kZXJSZXF1ZXN0KGBjYXJkcy8ke2lkfS9saWtlc2AsICdQVVQnKTtcbiAgfVxuXG4gIHJlbW92ZUxpa2UoaWQpIHtcbiAgICByZXR1cm4gdGhpcy4jcmVuZGVyUmVxdWVzdChgY2FyZHMvJHtpZH0vbGlrZXNgLCAnUFVUJyk7XG4gIH1cblxuICBkZWxldGVDYXJkKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuI3JlbmRlclJlcXVlc3QoYGNhcmRzLyR7aWR9YCwgXCJERUxFVEVcIik7XG4gIH1cblxuICBzZXRBdmF0YXIoZGF0YSkge1xuICAgIHJldHVybiB0aGlzLiNyZW5kZXJSZXF1ZXN0KCd1c2Vycy9tZS9hdmF0YXInLCAnUEFUQ0gnLCBkYXRhKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIENhcmQge1xuXG4gICNjYXJkc1RlbXBsYXRlO1xuICAjY2FyZEl0ZW07XG4gICNuYW1lO1xuICAjbGluaztcbiAgI2NhcmRJbWFnZTtcbiAgI2hhbmRsZUNhcmRDbGljaztcbiAgI2hhbmRsZURlbGV0ZUNsaWNrO1xuICAjbGlrZXNTZXQ7XG4gICNvd25lcklkO1xuICAjZGVsZXRlQnV0dG9uO1xuICAjaGFuZGxlTGlrZUNsaWNrO1xuICAjaXNMaWtlZDtcbiAgI2xpa2VCdXR0b247XG5cbiAgY29uc3RydWN0b3IoY2FyZHNEYXRhLCBjYXJkc0lkU2VsZWN0b3IsIHVzZXJJZCwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVEZWxldGVDbGljaywgaGFuZGxlTGlrZUNsaWNrKSB7XG5cbiAgICB0aGlzLiNjYXJkc1RlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjYXJkc0lkU2VsZWN0b3IpO1xuICAgIHRoaXMuI25hbWUgPSBjYXJkc0RhdGEubmFtZTtcbiAgICB0aGlzLiNsaW5rID0gY2FyZHNEYXRhLmxpbms7XG5cbiAgICB0aGlzLiNvd25lcklkID0gY2FyZHNEYXRhLm93bmVySWQ7XG4gICAgdGhpcy51c2VySWQgPSB1c2VySWQ7XG5cbiAgICB0aGlzLiNoYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy4jaGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGljaztcbiAgICB0aGlzLiNoYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XG5cbiAgICB0aGlzLiNsaWtlc1NldCA9IG5ldyBTZXQoY2FyZHNEYXRhLmxpa2VzKTtcbiAgICB0aGlzLiNpc0xpa2VkID0gdGhpcy4jbGlrZXNTZXQuaGFzKHRoaXMudXNlcklkKTtcbiAgfVxuXG4gICNnZXRUZW1wbGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy4jY2FyZHNUZW1wbGF0ZVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLnBsYWNlc19faXRlbScpLmNsb25lTm9kZSh0cnVlKTtcbiAgfVxuXG5cbiAgI2hhbmRsZUxpa2UoKSB7XG4gICAgdGhpcy4jaGFuZGxlTGlrZUNsaWNrKHRoaXMuI2lzTGlrZWQpXG4gIH1cblxuICAjc2V0TGlrZUNvdW50ZXIoKSB7XG4gICAgdGhpcy4jY2FyZEl0ZW0ucXVlcnlTZWxlY3RvcignLnBsYWNlc19fbGlrZXMtY291bnRlcicpLnRleHRDb250ZW50ID0gdGhpcy4jbGlrZXNTZXQuc2l6ZTtcbiAgfVxuXG4gIHNldExpa2UoaWQpIHtcbiAgICB0aGlzLiNsaWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3BsYWNlc19fbGlrZS1idXR0b25fYWN0aXZlJyk7XG5cbiAgICB0aGlzLiNsaWtlc1NldC5hZGQoaWQpO1xuICAgIHRoaXMuI3NldExpa2VDb3VudGVyKCk7XG5cbiAgICB0aGlzLiNpc0xpa2VkID0gdHJ1ZTtcbiAgfVxuXG4gIHJlbW92ZUxpa2UoaWQpIHtcbiAgICB0aGlzLiNsaWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ3BsYWNlc19fbGlrZS1idXR0b25fYWN0aXZlJyk7XG5cbiAgICB0aGlzLiNsaWtlc1NldC5kZWxldGUoaWQpO1xuICAgIHRoaXMuI3NldExpa2VDb3VudGVyKCk7XG5cbiAgICB0aGlzLiNpc0xpa2VkID0gZmFsc2U7XG4gIH1cblxuICAjZGVsZXRlSGFuZGxlcigpIHtcbiAgICB0aGlzLiNoYW5kbGVEZWxldGVDbGljaygpO1xuICB9XG5cbiAgI3NldEV2ZW50TGlzdGVuZXJzKCkge1xuXG4gICAgdGhpcy4jbGlrZUJ1dHRvblxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy4jaGFuZGxlTGlrZS5iaW5kKHRoaXMpKTtcblxuICAgIHRoaXMuI2RlbGV0ZUJ1dHRvblxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy4jZGVsZXRlSGFuZGxlci5iaW5kKHRoaXMpKTtcblxuICAgIHRoaXMuI2NhcmRJbWFnZVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLiNoYW5kbGVDYXJkQ2xpY2sodGhpcy4jbmFtZSwgdGhpcy4jbGluayk7XG4gICAgICB9KTtcbiAgfVxuXG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICB0aGlzLiNjYXJkSXRlbSA9IHRoaXMuI2dldFRlbXBsYXRlKCk7XG5cbiAgICB0aGlzLiNjYXJkSW1hZ2UgPSB0aGlzLiNjYXJkSXRlbS5xdWVyeVNlbGVjdG9yKCcucGxhY2VzX19pbWFnZScpO1xuICAgIHRoaXMuI2RlbGV0ZUJ1dHRvbiA9IHRoaXMuI2NhcmRJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZXNfX2RlbGV0ZS1idXR0b24nKTtcbiAgICB0aGlzLiNsaWtlQnV0dG9uID0gdGhpcy4jY2FyZEl0ZW0ucXVlcnlTZWxlY3RvcignLnBsYWNlc19fbGlrZS1idXR0b24nKTtcblxuICAgIHRoaXMuI2NhcmRJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZXNfX3RpdGxlJykudGV4dENvbnRlbnQgPSB0aGlzLiNuYW1lO1xuXG4gICAgdGhpcy4jY2FyZEltYWdlLnNyYyA9IHRoaXMuI2xpbms7XG4gICAgdGhpcy4jY2FyZEltYWdlLmFsdCA9IHRoaXMuI25hbWU7XG5cbiAgICB0aGlzLiNzZXRMaWtlQ291bnRlcigpO1xuICAgIHRoaXMuI3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICBpZiAodGhpcy51c2VySWQgIT09IHRoaXMuI293bmVySWQpIHtcbiAgICAgIHRoaXMuI2RlbGV0ZUJ1dHRvbi5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy4jY2FyZEl0ZW07XG4gIH1cblxuICBkZWxldGVDYXJkKCkge1xuICAgIHRoaXMuI2NhcmRJdGVtLnJlbW92ZSgpO1xuICAgIHRoaXMuI2NhcmRJdGVtID0gbnVsbDtcbiAgfVxufVxuXG5cblxuXG5cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuXG4gICNyZW5kZXJlcjtcbiAgI2NvbnRhaW5lcjtcblxuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyLCBjYXJkc0NvbnRhaW5lciB9KSB7XG5cbiAgICB0aGlzLiNyZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuI2NvbnRhaW5lciA9IGNhcmRzQ29udGFpbmVyO1xuICB9XG5cbiAgI2NsZWFyKCkge1xuICAgIHRoaXMuI2NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XG4gICAgdGhpcy4jY2xlYXIoKTtcbiAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4gdGhpcy4jcmVuZGVyZXIoaXRlbSkpO1xuICB9XG5cbiAgYWRkSXRlbShpdGVtKSB7XG4gICAgdGhpcy4jY29udGFpbmVyLnByZXBlbmQoaXRlbSk7XG4gIH1cblxuICBhZGRJdGVtcyhpdGVtcykge1xuICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB0aGlzLmFkZEl0ZW0oaXRlbSkpXG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcblxuICAjcG9wdXA7XG5cbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuI3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgfVxuXG4gIG9wZW5Qb3B1cCgpIHtcbiAgICB0aGlzLiNwb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy4jaGFuZGxlRXNjQ2xvc2VQb3B1cCk7XG4gIH1cblxuICBjbG9zZVBvcHVwKCkge1xuICAgIGlmICh0aGlzLiNwb3B1cCkge1xuICAgICAgdGhpcy4jcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVFc2NDbG9zZVBvcHVwKTtcbiAgICB9XG4gIH1cblxuICAjaGFuZGxlRXNjQ2xvc2VQb3B1cCA9IChldnQpID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHRoaXMuY2xvc2VQb3B1cCh0aGlzLiNwb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfb3BlbmVkJykpO1xuICAgIH1cbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuI3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChldnQpID0+IHtcbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX21vZGFsLXdpbmRvdycpIHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9vcGVuZWQnKSkge1xuICAgICAgICB0aGlzLmNsb3NlUG9wdXAodGhpcy4jcG9wdXApO1xuICAgICAgfVxuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fY2xvc2UtYnV0dG9uJykpIHtcbiAgICAgICAgdGhpcy5jbG9zZVBvcHVwKHRoaXMuI3BvcHVwKTtcbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuXG4gICNpbWFnZTtcblxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBpbWFnZVNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy4jaW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGltYWdlU2VsZWN0b3IpO1xuICB9XG5cbiAgb3BlblBvcHVwKG5hbWUsIGxpbmspIHtcblxuICAgIHN1cGVyLm9wZW5Qb3B1cCgpO1xuXG4gICAgdGhpcy4jaW1hZ2Uuc3JjID0gbGluaztcbiAgICB0aGlzLiNpbWFnZS5hbHQgPSBuYW1lO1xuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZS1jYXB0aW9uJykudGV4dENvbnRlbnQgPSBuYW1lO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcblxuICAjaGFuZGxlRm9ybVN1Ym1pdDtcbiAgI2lucHV0TGlzdDtcbiAgI3BvcHVwO1xuICAjZm9ybTtcbiAgI2lzTG9hZGluZztcbiAgI2N1c3RvbUJ1dHRvblRleHQ7XG4gICNidXR0b25TdWJtaXQ7XG4gICNpbnB1dFZhbHVlc1xuXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcblxuICAgIHRoaXMuI3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLiNmb3JtID0gdGhpcy4jcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XG4gICAgdGhpcy4jaW5wdXRMaXN0ID0gWy4uLnRoaXMuI2Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pbnB1dCcpXTtcbiAgICB0aGlzLiNidXR0b25TdWJtaXQgPSB0aGlzLiNwb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbicpO1xuXG4gICAgdGhpcy4jaGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG5cbiAgICB0aGlzLiNpc0xvYWRpbmcgPSBmYWxzZVxuICB9XG5cbiAgI2dldElucHV0VmFsdWVzKCkge1xuICAgIHJldHVybiB0aGlzLiNpbnB1dExpc3QucmVkdWNlKChpbnB1dFZhbHVlLCBpbnB1dCkgPT4ge1xuICAgICAgaW5wdXRWYWx1ZVtpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgICAgcmV0dXJuIGlucHV0VmFsdWU7XG4gICAgfSwge30pO1xuICB9XG5cbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xuICAgIHRoaXMuI2lucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHtcbiAgICAgIGlmIChkYXRhW2lucHV0Lm5hbWVdKSB7XG4gICAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGdldEZvcm0oKSB7XG4gICAgcmV0dXJuIHRoaXMuI2Zvcm07XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgdGhpcy4jZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgdGhpcy4jaW5wdXRWYWx1ZXMgPSB0aGlzLiNnZXRJbnB1dFZhbHVlcygpO1xuXG4gICAgICBpZiAoIXRoaXMuI2lzTG9hZGluZykge1xuICAgICAgICB0aGlzLiNjdXN0b21CdXR0b25UZXh0ID0gdGhpcy4jYnV0dG9uU3VibWl0LnRleHRDb250ZW50O1xuICAgICAgICB0aGlzLiNidXR0b25TdWJtaXQudGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCI7XG4gICAgICAgIHRoaXMuI2lzTG9hZGluZyA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuI2hhbmRsZUZvcm1TdWJtaXQodGhpcy4jaW5wdXRWYWx1ZXMpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICB0aGlzLmNsb3NlUG9wdXAoKVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLiNpc0xvYWRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuI2J1dHRvblN1Ym1pdC50ZXh0Q29udGVudCA9IHRoaXMuI2N1c3RvbUJ1dHRvblRleHQ7XG4gICAgICAgICAgICB0aGlzLiNpc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgY2xvc2VQb3B1cCgpIHtcbiAgICB0aGlzLiNmb3JtLnJlc2V0KCk7XG5cbiAgICBzdXBlci5jbG9zZVBvcHVwKCk7XG4gIH1cbn1cblxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtIGV4dGVuZHMgUG9wdXAge1xuXG4gICNwb3B1cDtcbiAgI2hhbmRsZUNvbmZpcm07XG4gICNidXR0b25Db25maXJtO1xuICAjZGF0YTtcbiAgI2N1c3RvbUJ1dHRvblRleHQ7XG4gICNpc0xvYWRpbmc7XG5cbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlQ29uZmlybSkge1xuXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG5cbiAgICB0aGlzLiNwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy4jYnV0dG9uQ29uZmlybSA9IHRoaXMuI3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uX3R5cGVfY29uZmlybScpO1xuXG4gICAgdGhpcy4jaGFuZGxlQ29uZmlybSA9IGhhbmRsZUNvbmZpcm07XG5cbiAgICB0aGlzLiNpc0xvYWRpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIG9wZW5Qb3B1cChkYXRhKSB7XG5cbiAgICBzdXBlci5vcGVuUG9wdXAoKTtcblxuICAgIHRoaXMuI2RhdGEgPSBkYXRhO1xuICB9XG5cbiAgY2xvc2VQb3B1cCgpIHtcblxuICAgIHN1cGVyLmNsb3NlUG9wdXAoKTtcbiAgfVxuXG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG5cbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgdGhpcy4jYnV0dG9uQ29uZmlybS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblxuICAgICAgaWYgKCF0aGlzLiNpc0xvYWRpbmcpIHtcbiAgICAgICAgdGhpcy4jY3VzdG9tQnV0dG9uVGV4dCA9IHRoaXMuI2J1dHRvbkNvbmZpcm0udGV4dENvbnRlbnQ7XG4gICAgICAgIHRoaXMuI2J1dHRvbkNvbmZpcm0udGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCI7XG5cbiAgICAgICAgdGhpcy4jaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy4jaGFuZGxlQ29uZmlybSh0aGlzLiNkYXRhKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5jbG9zZVBvcHVwKClcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSkpXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy4jaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICB0aGlzLiNidXR0b25Db25maXJtLnRleHRDb250ZW50ID0gdGhpcy4jY3VzdG9tQnV0dG9uVGV4dDtcbiAgICAgICAgICAgIHRoaXMuI2lzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcblxuICAjZGF0YTtcbiAgI3VzZXJJZDtcblxuICBjb25zdHJ1Y3RvcihkYXRhKSB7XG5cbiAgICB0aGlzLiNkYXRhID0gZGF0YTtcblxuICAgIHRoaXMubmFtZVNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLiNkYXRhLnVzZXJOYW1lKTtcbiAgICB0aGlzLmluZm9TZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy4jZGF0YS51c2VySW5mbyk7XG4gICAgdGhpcy5hdmF0YXJTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy4jZGF0YS5hdmF0YXIpO1xuICAgIHRoaXMuYXZhdGFyU2VsZWN0b3IudGV4dENvbnRlbnQgPSB0aGlzLmF2YXRhclNlbGVjdG9yLnNyYztcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMubmFtZVNlbGVjdG9yLnRleHRDb250ZW50LFxuICAgICAgYWJvdXQ6IHRoaXMuaW5mb1NlbGVjdG9yLnRleHRDb250ZW50LFxuICAgIH1cbiAgfVxuXG4gIHNldFVzZXJJZCh1c2VySWQpIHtcbiAgICB0aGlzLiN1c2VySWQgPSB1c2VySWQ7XG4gIH1cblxuICBnZXRVc2VySWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuI3VzZXJJZDtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKG5hbWUsIGFib3V0KSB7XG5cbiAgICB0aGlzLm5hbWVTZWxlY3Rvci50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5pbmZvU2VsZWN0b3IudGV4dENvbnRlbnQgPSBhYm91dDtcbiAgfVxuXG4gIHNldEF2YXRhcih1cmwpIHtcblxuICAgIHRoaXMuYXZhdGFyU2VsZWN0b3Iuc3JjID0gdXJsO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG5cbiAgI2luYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICNpbnB1dEVycm9yQ2xhc3M7XG4gICNlcnJvckNsYXNzO1xuICAjc3VibWl0QnV0dG9uO1xuICAjaW5wdXRzTGlzdDtcbiAgI2Vycm9yRWxlbWVudDtcbiAgI2Zvcm1FbGVtZW50O1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcblxuICAgIHRoaXMuI2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLiNpbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuI2Vycm9yQ2xhc3MgPSBjb25maWcuZXJyb3JDbGFzcztcbiAgICB0aGlzLiNmb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuI2lucHV0c0xpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgdGhpcy4jZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuaW5wdXRTZWxlY3RvcilcbiAgICApO1xuICAgIHRoaXMuI3N1Ym1pdEJ1dHRvbiA9IHRoaXMuI2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcblxuICB9XG5cbiAgI3NldEJ1dHRvbkluYWN0aXZlKCkge1xuICAgIHRoaXMuI3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuI2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuI3N1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gIH07XG5cbiAgI3NldEJ1dHRvbkFjdGl2ZSgpIHtcbiAgICB0aGlzLiNzdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLiNpbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLiNzdWJtaXRCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcsIGZhbHNlKTtcbiAgfTtcblxuICAjaGFzSW5wdXRzRXJyb3JzKCkge1xuICAgIHJldHVybiB0aGlzLiNpbnB1dHNMaXN0LnNvbWUoZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICByZXR1cm4gIWlucHV0LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9O1xuXG4gICN0b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy4jaGFzSW5wdXRzRXJyb3JzKCkpIHtcbiAgICAgIHRoaXMuI3NldEJ1dHRvbkluYWN0aXZlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuI3NldEJ1dHRvbkFjdGl2ZSgpO1xuICAgIH1cbiAgfTtcblxuICAjc2hvd0lucHV0RXJyb3IoaW5wdXQsIGVycm9yTWVzc2FnZSkge1xuXG4gICAgdGhpcy4jZXJyb3JFbGVtZW50ID0gdGhpcy4jZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLiNpbnB1dEVycm9yQ2xhc3MpO1xuXG4gICAgdGhpcy4jZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIHRoaXMuI2Vycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuI2Vycm9yQ2xhc3MpO1xuICB9O1xuXG4gICNoaWRlSW5wdXRFcnJvcihpbnB1dCkge1xuICAgIHRoaXMuI2Vycm9yRWxlbWVudCA9IHRoaXMuI2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApO1xuICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy4jaW5wdXRFcnJvckNsYXNzKTtcbiAgICB0aGlzLiNlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgICB0aGlzLiNlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLiNlcnJvckNsYXNzKTtcbiAgfTtcblxuICAjY2hlY2tWYWxpZGl0eShpbnB1dCkge1xuXG4gICAgaWYgKCFpbnB1dC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy4jc2hvd0lucHV0RXJyb3IoaW5wdXQsIGlucHV0LnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy4jaGlkZUlucHV0RXJyb3IoaW5wdXQpO1xuICAgIH1cbiAgfTtcblxuICAjc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG5cbiAgICB0aGlzLiN0b2dnbGVCdXR0b25TdGF0ZSh0aGlzLiNpbnB1dHNMaXN0KTtcbiAgICB0aGlzLiNpbnB1dHNMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgdGhpcy4jY2hlY2tWYWxpZGl0eShpbnB1dCk7XG4gICAgICAgIHRoaXMuI3RvZ2dsZUJ1dHRvblN0YXRlKHRoaXMuI2lucHV0c0xpc3QpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuI3NldEJ1dHRvbkluYWN0aXZlKClcbiAgICB0aGlzLiNpbnB1dHNMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLiNoaWRlSW5wdXRFcnJvcihpbnB1dCk7XG4gICAgfSk7XG4gIH07XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLiNzZXRFdmVudExpc3RlbmVycygpO1xuICB9O1xufVxuIiwiZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcbiAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcbiAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fYnV0dG9uJyxcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19idXR0b25fZGlzYWJsZWQnLFxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXG4gIGVycm9yQ2xhc3M6ICdwb3B1cF9fZXJyb3JfdmlzaWJsZScsXG59O1xuXG5cblxuXG5leHBvcnQgY29uc3QgY2FyZHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGxhY2VzX19pdGVtcycpXG5leHBvcnQgY29uc3QgdXNlclNlbGVjdG9yc0RhdGEgPSB7XG4gIHVzZXJOYW1lOiAnLnByb2ZpbGVfX3RpdGxlJyxcbiAgdXNlckluZm86ICcucHJvZmlsZV9fc3VidGl0bGUnLFxuICBhdmF0YXI6ICcucHJvZmlsZV9fYXZhdGFyJ1xufVxuIiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5cbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XG5cbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5cbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzJztcblxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuXG5pbXBvcnQge1xuICBjb25maWcsXG4gIGNhcmRzQ29udGFpbmVyLFxuICB1c2VyU2VsZWN0b3JzRGF0YVxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbmNvbnN0IGhhbmRsZUFkZEJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcbiAgcG9wdXBBZGQub3BlblBvcHVwKCk7XG4gIHZhbGlkYXRvckZvcm1BZGQucmVzZXRWYWxpZGF0aW9uKCk7XG59XG5cbmNvbnN0IGhhbmRsZUVkaXRCdXR0b24gPSBmdW5jdGlvbiAoKSB7XG4gIHBvcHVwRWRpdC5vcGVuUG9wdXAoKTtcbiAgcG9wdXBFZGl0LnNldElucHV0VmFsdWVzKHVzZXJJbmZvLmdldFVzZXJJbmZvKCkpO1xuICB2YWxpZGF0b3JGb3JtRWRpdC5yZXNldFZhbGlkYXRpb24oKTtcbn1cblxuY29uc3QgaGFuZGxlQXZhdGFyID0gZnVuY3Rpb24gKCkge1xuICBwb3B1cEVkaXRBdmF0YXIub3BlblBvcHVwKCk7XG4gIHBvcHVwRWRpdEF2YXRhci5zZXRJbnB1dFZhbHVlcyh1c2VySW5mby5nZXRVc2VySW5mbygpKTtcbiAgdmFsaWRhdG9yRm9ybUF2YXRhci5yZXNldFZhbGlkYXRpb24oKTtcbn1cblxuY29uc3QgY3JlYXRlQ2FyZCA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcblxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXG4gICAge1xuICAgICAgbmFtZTogdmFsdWVzLm5hbWUsXG4gICAgICBsaW5rOiB2YWx1ZXMubGluayxcbiAgICAgIGxpa2VzOiB2YWx1ZXMubGlrZXMsXG4gICAgICBvd25lcklkOiB2YWx1ZXMub3duZXIuX2lkLFxuICAgICAgaWQ6IHZhbHVlcy5faWQsXG4gICAgfSxcbiAgICAnI2NhcmR0ZW1wbGF0ZScsXG4gICAgdXNlckluZm8uZ2V0VXNlcklkKCksXG4gICAgcG9wdXBJbWFnZS5vcGVuUG9wdXAuYmluZChwb3B1cEltYWdlKSwgKCkgPT4ge1xuICAgICAgcG9wdXBDb25maXJtLm9wZW5Qb3B1cCh7XG4gICAgICAgIGlkOiB2YWx1ZXMuX2lkLFxuICAgICAgICBoYW5kbGVEZWxldGU6IGNhcmQuZGVsZXRlQ2FyZC5iaW5kKGNhcmQpLFxuICAgICAgfSk7XG4gICAgfSxcbiAgICAoaXNMaWtlZCkgPT4ge1xuICAgICAgaWYgKGlzTGlrZWQpIHtcbiAgICAgICAgYXBpLnJlbW92ZUxpa2UodmFsdWVzLl9pZClcbiAgICAgICAgICAudGhlbihkYXRhID0+IGNhcmQucmVtb3ZlTGlrZShkYXRhLm93bmVyLl9pZCkpXG4gICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBpLnNldExpa2UodmFsdWVzLl9pZClcbiAgICAgICAgICAudGhlbihkYXRhID0+IGNhcmQuc2V0TGlrZShkYXRhLm93bmVyLl9pZCkpXG4gICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSkpO1xuICAgICAgfVxuICAgIH1cbiAgKTtcblxuICByZXR1cm4gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbn1cblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIHVybDogJ2h0dHBzOi8vbm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNTIvJyxcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246ICc3OWRmZDk3ZS00YzczLTRjMzctYTdkNS1iNWUwOTcxMGY1YzknLFxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgfSxcbn0pO1xuXG5cbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oe1xuICByZW5kZXJlcjogKGNhcmREYXRhKSA9PiB7XG4gICAgY2FyZExpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGNhcmREYXRhKSlcbiAgfSwgY2FyZHNDb250YWluZXJcbn0pO1xuXG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXIoKSwgYXBpLmdldENhcmRzKCldKVxuICAudGhlbigoW3VzZXJEYXRhLCBjYXJkc0RhdGFdKSA9PiB7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEubmFtZSwgdXNlckRhdGEuYWJvdXQpO1xuICAgIHVzZXJJbmZvLnNldFVzZXJJZCh1c2VyRGF0YS5faWQpXG4gICAgY2FyZExpc3QucmVuZGVySXRlbXMoY2FyZHNEYXRhKTtcbiAgfSlcbiAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSkpO1xuXG5jb25zdCBjcmVhdGVWYWxpZGF0b3IgPSBmdW5jdGlvbiAoZm9ybSkge1xuICBjb25zdCBmb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtKTtcbiAgcmV0dXJuIGZvcm1WYWxpZGF0b3I7XG59O1xuXG5jb25zdCBwb3B1cEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKCcucG9wdXBfdHlwZV9pbWFnZScsICcucG9wdXBfX2ltYWdlJyk7XG5cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHVzZXJTZWxlY3RvcnNEYXRhKTtcblxuY29uc3QgcG9wdXBBZGQgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX3R5cGVfYWRkJywgKGlucHV0VmFsdWVzID0+IGFwaS5hZGRDYXJkKGlucHV0VmFsdWVzKVxuICAudGhlbihjYXJkRGF0YSA9PiBjYXJkTGlzdC5hZGRJdGVtKGNyZWF0ZUNhcmQoY2FyZERhdGEpKSlcbikpO1xuXG5jb25zdCBwb3B1cEVkaXQgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX3R5cGVfZWRpdCcsIChpbnB1dFZhbHVlcyA9PlxuICBhcGkudXBkYXRlVXNlcihpbnB1dFZhbHVlcylcbiAgICAudGhlbih1c2VyRGF0YSA9PiB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YS5uYW1lLCB1c2VyRGF0YS5hYm91dCkpXG4pKTtcblxuY29uc3QgcG9wdXBFZGl0QXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF90eXBlX3NldC1hdmF0YXInLCAoaW5wdXRWYWx1ZXMgPT5cbiAgYXBpLnNldEF2YXRhcih7IGF2YXRhcjogaW5wdXRWYWx1ZXMuYXZhdGFyIH0pXG4gICAgLnRoZW4odXNlckluZm8uc2V0QXZhdGFyKGlucHV0VmFsdWVzLmF2YXRhcikpXG4pKTtcblxuY29uc3QgcG9wdXBDb25maXJtID0gbmV3IFBvcHVwV2l0aENvbmZpcm0oJy5wb3B1cF90eXBlX2NvbmZpcm0nLFxuICAoeyBpZCwgaGFuZGxlRGVsZXRlIH0pID0+IHtcbiAgICByZXR1cm4gYXBpLmRlbGV0ZUNhcmQoaWQpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGhhbmRsZURlbGV0ZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpKTtcbiAgfSk7XG5cbmNvbnN0IHZhbGlkYXRvckZvcm1BZGQgPSBjcmVhdGVWYWxpZGF0b3IocG9wdXBBZGQuZ2V0Rm9ybSgpKTtcbmNvbnN0IHZhbGlkYXRvckZvcm1FZGl0ID0gY3JlYXRlVmFsaWRhdG9yKHBvcHVwRWRpdC5nZXRGb3JtKCkpO1xuY29uc3QgdmFsaWRhdG9yRm9ybUF2YXRhciA9IGNyZWF0ZVZhbGlkYXRvcihwb3B1cEVkaXRBdmF0YXIuZ2V0Rm9ybSgpKTtcblxudmFsaWRhdG9yRm9ybUFkZC5lbmFibGVWYWxpZGF0aW9uKCk7XG52YWxpZGF0b3JGb3JtRWRpdC5lbmFibGVWYWxpZGF0aW9uKCk7XG52YWxpZGF0b3JGb3JtQXZhdGFyLmVuYWJsZVZhbGlkYXRpb24oKTtcblxucG9wdXBJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBBZGQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnBvcHVwRWRpdC5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBFZGl0QXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wb3B1cENvbmZpcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUFkZEJ1dHRvbik7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUVkaXRCdXR0b24pO1xuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhci1jb250YWluZXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUF2YXRhcik7XG5cbiJdLCJuYW1lcyI6WyJBcGkiLCJ1cmwiLCJjb25maWdBcGkiLCJ0aGlzIiwiaW5wdXRWYWx1ZXMiLCJpZCIsImRhdGEiLCJwYXRoIiwibWV0aG9kIiwiYm9keSIsIm9wdGlvbnMiLCJKU09OIiwic3RyaW5naWZ5IiwiZmV0Y2giLCJyZXNwb25zZSIsImpzb24iLCJvayIsIkVycm9yIiwibWVzc2FnZSIsIkNhcmQiLCJjYXJkc0RhdGEiLCJjYXJkc0lkU2VsZWN0b3IiLCJ1c2VySWQiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGVDbGljayIsImhhbmRsZUxpa2VDbGljayIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm5hbWUiLCJsaW5rIiwib3duZXJJZCIsIlNldCIsImxpa2VzIiwiaGFzIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiZGVsZXRlIiwidGV4dENvbnRlbnQiLCJzcmMiLCJhbHQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwic2l6ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJiaW5kIiwiU2VjdGlvbiIsInJlbmRlcmVyIiwiY2FyZHNDb250YWluZXIiLCJpdGVtcyIsImZvckVhY2giLCJpdGVtIiwicHJlcGVuZCIsImFkZEl0ZW0iLCJpbm5lckhUTUwiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJldnQiLCJrZXkiLCJjbG9zZVBvcHVwIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZUVzY0Nsb3NlUG9wdXAiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEltYWdlIiwiaW1hZ2VTZWxlY3RvciIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0IiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsInRoZW4iLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJmaW5hbGx5IiwicmVzZXQiLCJyZWR1Y2UiLCJpbnB1dFZhbHVlIiwiUG9wdXBXaXRoQ29uZmlybSIsImhhbmRsZUNvbmZpcm0iLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsInVzZXJOYW1lIiwiaW5mb1NlbGVjdG9yIiwidXNlckluZm8iLCJhdmF0YXJTZWxlY3RvciIsImF2YXRhciIsImFib3V0IiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJBcnJheSIsImZyb20iLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzb21lIiwidmFsaWRpdHkiLCJ2YWxpZCIsImVycm9yTWVzc2FnZSIsInZhbGlkYXRpb25NZXNzYWdlIiwiZm9ybVNlbGVjdG9yIiwiY3JlYXRlQ2FyZCIsInZhbHVlcyIsImNhcmQiLCJvd25lciIsIl9pZCIsImdldFVzZXJJZCIsInBvcHVwSW1hZ2UiLCJvcGVuUG9wdXAiLCJwb3B1cENvbmZpcm0iLCJoYW5kbGVEZWxldGUiLCJkZWxldGVDYXJkIiwiaXNMaWtlZCIsImFwaSIsInJlbW92ZUxpa2UiLCJzZXRMaWtlIiwiZ2VuZXJhdGVDYXJkIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJjYXJkTGlzdCIsImNhcmREYXRhIiwiUHJvbWlzZSIsImFsbCIsImdldFVzZXIiLCJnZXRDYXJkcyIsInVzZXJEYXRhIiwic2V0VXNlckluZm8iLCJzZXRVc2VySWQiLCJyZW5kZXJJdGVtcyIsImNyZWF0ZVZhbGlkYXRvciIsImZvcm0iLCJwb3B1cEFkZCIsImFkZENhcmQiLCJwb3B1cEVkaXQiLCJ1cGRhdGVVc2VyIiwicG9wdXBFZGl0QXZhdGFyIiwic2V0QXZhdGFyIiwidmFsaWRhdG9yRm9ybUFkZCIsImdldEZvcm0iLCJ2YWxpZGF0b3JGb3JtRWRpdCIsInZhbGlkYXRvckZvcm1BdmF0YXIiLCJlbmFibGVWYWxpZGF0aW9uIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJyZXNldFZhbGlkYXRpb24iLCJzZXRJbnB1dFZhbHVlcyIsImdldFVzZXJJbmZvIl0sInNvdXJjZVJvb3QiOiIifQ==